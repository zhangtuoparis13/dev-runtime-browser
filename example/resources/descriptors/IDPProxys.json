{
  "IDPProxy": {
    "cguid": 50001,
    "version": "1.0",
    "type": "IDPProxy",
    "description": "This is a idp-proxy",
    "objectName": "default",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "configuration": {},
    "constraints": "",
    "hypertyCapabilities": "",
    "protocolCapabilities": "",
    "policies": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy",
    "sourcePackageURL": "/sourcePackage",
    "sourcePackage": {
      "encoding": "UTF8",
      "sourceCodeClassname": "defaultProxy",
      "sourceCode": "alert('hello world from a proxy!')"
    }
  },
  "IdpProxyStub": {
    "sourcePackage": {
      "sourceCode": "LyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgUHJvdG9jb2wgU3R1YgoqLwpjbGFzcyBJZHBQcm94eVN0dWIgewoKICAvKioKICAqIENvbnN0cnVjdG9yIG9mIHRoZSBJZHBQcm94eSBTdHViCiAgKiBUaGUgY29uc3RydWN0b3IgYWRkIGEgbGlzdGVuZXIgaW4gdGhlIG1lc3NhZ2VCdXMgcmVjZWl2ZWQgYW5kIHN0YXJ0IGEgd2ViIHdvcmtlciB3aXRoIHRoZSBpZHBQcm94eSByZWNlaXZlZAogICoKICAqIEBwYXJhbSAge21lc3NhZ2VCdXN9ICAgICAgbWVzc2FnZUJ1cwogICogQHBhcmFtICB7ZG9tYWlufSAgICAgICAgICBEb21haW4KICAqIEBwYXJhbSAge2lkcFByb3h5fSAgICBpZGVudGl0eSBQcm92aWRlciBQcm94eSBqYXZhc2NyaXB0IGZpbGUKICAqLwogIGNvbnN0cnVjdG9yKG1lc3NhZ2VCdXMsIGRvbWFpbiwgaWRwUHJveHkpIHsKICAgIGxldCBfdGhpcyA9IHRoaXM7CiAgICBfdGhpcy5tZXNzYWdlQnVzID0gbWVzc2FnZUJ1czsKICAgIF90aGlzLmRvbWFpbiA9IGRvbWFpbjsKICAgIF90aGlzLmlkcFByb3h5ID0gaWRwUHJveHk7CgogICAgX3RoaXMubWVzc2FnZUJ1cy5hZGRMaXN0ZW5lcignZG9tYWluOi8vJyArIGlkcFByb3h5LCBmdW5jdGlvbihtc2cpIHsKICAgICAgX3RoaXMucmVxdWVzdFRvSWRwKG1zZyk7CiAgICB9KTsKCiAgICAvL3N0YXJ0IHRoZSB3ZWIgd29ya2VyIHdpdGggdGhlIGlkcFByb3h5CiAgICBfdGhpcy5zdGFydChpZHBQcm94eSk7CiAgfQoKICAvKioKICAqIEZ1bmN0aW9uIHRoYXQgc2VlIHRoZSBpbnRlbmRlZCBtZXRob2QgaW4gdGhlIG1lc3NhZ2UgcmVjZWl2ZWQgYW5kIGNhbGwgdGhlIHJlc3BlY3RpdmUgZnVuY3Rpb24KICAqCiAgKiBAcGFyYW0ge21lc3NhZ2V9ICBtZXNzYWdlIHJlY2VpdmVkIGluIHRoZSBtZXNzYWdlQnVzCiAgKi8KICByZXF1ZXN0VG9JZHAobXNnKSB7CiAgICBsZXQgX3RoaXMgPSB0aGlzOwogICAgbGV0IHBhcmFtcyA9IG1zZy5ib2R5LnBhcmFtczsKICAgIHN3aXRjaCAobXNnLmJvZHkubWV0aG9kKSB7CiAgICAgIGNhc2UgJ2xvZ2luJzoKICAgICAgICBfdGhpcy5sb2dpbigpLnRoZW4oZnVuY3Rpb24odmFsdWUpIHsgX3RoaXMucmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpO30pOwogICAgICAgIGJyZWFrOwogICAgICBjYXNlICdnZW5lcmF0ZUFzc2VydGlvbic6CiAgICAgICAgX3RoaXMuZ2VuZXJhdGUocGFyYW1zKS50aGVuKGZ1bmN0aW9uKHZhbHVlKSB7IF90aGlzLnJlcGx5TWVzc2FnZShtc2csIHZhbHVlKTt9KTsKICAgICAgICBicmVhazsKICAgICAgY2FzZSAndmFsaWRhdGVBc3NlcnRpb24nOgogICAgICAgIF90aGlzLnZhbGlkYXRlKHBhcmFtcykudGhlbihmdW5jdGlvbih2YWx1ZSkgeyBfdGhpcy5yZXBseU1lc3NhZ2UobXNnLCB2YWx1ZSk7fSk7CiAgICAgICAgYnJlYWs7CiAgICAgIGRlZmF1bHQ6CiAgICAgICAgYnJlYWs7CiAgICB9CiAgfQoKICAvKioKICAqIFN0YXJ0cyBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgaWRwUHJveHkgamF2YXNjaXB0IGZpbGUKICAqCiAgKiBAcGFyYW0gIHtpZHBQcm94eX0gICAgaWRlbnRpdHkgUHJvdmlkZXIgUHJveHkgamF2YXNjcmlwdCBmaWxlCiAgKi8KICBzdGFydChpZHBQcm94eSkgewogICAgbGV0IF90aGlzID0gdGhpczsKICAgIGlmICh3aW5kb3cuV29ya2VyKSB7IC8vY2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIHdvcmtlciBBUEkKCiAgICAgIGxldCBteVdvcmtlciA9IG5ldyBXb3JrZXIoJy9zcmMvaWRlbnRpdHkvSWRwUHJveHkuanMnKTsKICAgICAgX3RoaXMubXlXb3JrZXIgPSBteVdvcmtlcjsKICAgICAgX3RoaXMubXlXb3JrZXIucG9zdE1lc3NhZ2UoWydjcmVhdGUnLCdJZHBQcm94eSddKTsKCiAgICB9IGVsc2UgewogICAgICByZXR1cm4gJ2Vycm9yJzsKICAgIH0KICB9CgogIC8qKgogICogZnVuY3Rpb24gdGhhdCBtYWtlcyBhIHJlcXVlc3QgZm9yIGFuIGlkZW50aXR5IGFzc2VydGlvbiB0byB0aGUgd2ViIHdvcmtlciBydW5uaW5nIHRoZSBpZHBQcm94eQogICoKICAqIEBwYXJhbSAge3BhcmFtc30gIHBhcmFtZXRlcnMgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2UuIEluIHRoaXMgY2FzZSBjb250YWlucyB0aGUgY29udGVudCwgb3JpZ2luIGFuZCB1c2VybmFtZWhpbnQKICAqIEByZXR1cm4ge1Byb21pc2V9IHJldHVybnMgYSBwcm9taXNlIHdpdGggYW4gaWRlbnRpdHkgYXNzZXJ0aW9uIGdlbmVyYXRlIGJ5IHRoZSBpZHBQcm94eQogICovCiAgZ2VuZXJhdGUocGFyYW1zKSB7CiAgICBsZXQgX3RoaXMgPSB0aGlzOwoKICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCkgewogICAgICBpZiAod2luZG93LldvcmtlcikgeyAvL2NoZWNrIGlmIHRoZSBicm93c2VyIHN1cHBvcnRzIHRoZSB3b3JrZXIgQVBJCgogICAgICAgIF90aGlzLm15V29ya2VyLnBvc3RNZXNzYWdlKFsnZ2VuZXJhdGUnLCBwYXJhbXNdKTsKCiAgICAgICAgX3RoaXMubXlXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgcmVzb2x2ZShlLmRhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB3b3JrZXInLCBlLmRhdGEpOwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVqZWN0KCdlcnJvcicpOwogICAgICB9CiAgICB9KTsKICB9CgogIC8qKgogICogZnVuY3Rpb24gdGhhdCBtYWtlcyBhIHJlcXVlc3QgdG8gdmFsaWRhdGUgYW4gaWRlbnRpdHkgYXNzZXJ0aW9uIHRvIHRoZSB3ZWIgd29ya2VyIHJ1bm5pbmcgdGhlIGlkcFByb3h5CiAgKgogICogQHBhcmFtICB7cGFyYW1zfSAgcGFyYW1ldGVycyByZWNlaXZlZCBpbiB0aGUgbWVzc2FnZS4gSW4gdGhpcyBjYXNlIGNvbnRhaW5zIHRoZSBpZGVudGl0eSBhc3NlcnRpb24gYW5kIG9yaWdpbgogICogQHJldHVybiB7UHJvbWlzZX0gcmV0dXJucyBhIHByb21pc2Ugd2l0aCB0aGUgaWRlbnRpdHkgYXNzZXJ0aW9uIHZhbGlkYXRpb24gcmVzdWx0LCByZWNlaXZlZCBieSB0aGUgaWRwUHJveHkKICAqLwogIHZhbGlkYXRlKHBhcmFtcykgewogICAgbGV0IF90aGlzID0gdGhpczsKCiAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3QpIHsKICAgICAgaWYgKHdpbmRvdy5Xb3JrZXIpIHsgLy9jaGVjayBpZiB0aGUgYnJvd3NlciBzdXBwb3J0cyB0aGUgd29ya2VyIEFQSQoKICAgICAgICBfdGhpcy5teVdvcmtlci5wb3N0TWVzc2FnZShbJ3ZhbGlkYXRlJyxwYXJhbXNdKTsKCiAgICAgICAgX3RoaXMubXlXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgcmVzb2x2ZShlLmRhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB3b3JrZXInLCBlLmRhdGEpOwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVqZWN0KCdlcnJvcicpOwogICAgICB9CiAgICB9KTsKICB9CgogIC8qKgogICogZnVuY3Rpb24gdGhhdCBtYWtlcyBhIHJlcXVlc3QgZm9yIGEgdXNlciBpZGVudGl0eSB0byB0aGUgd2ViIHdvcmtlciBydW5uaW5nIHRoZSBpZHBQcm94eQogICoKICAqIEBwYXJhbSAge3BhcmFtc30gIHBhcmFtZXRlcnMgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2UuIEluIHRoaXMgY2FzZSBjb250YWlucyB0aGUgbG9naW4gc2NvcGUKICAqIEByZXR1cm4ge1Byb21pc2V9IHJldHVybnMgYSBwcm9taXNlIGFuIFVSTCBzbyB0aGUgSWRlbnRpdHkgTW9kdWxlIGNhbiB1c2UgdG8gb2J0YWluIGFuIGlkZW50aXR5CiAgKi8KICBsb2dpbihwYXJhbXMpIHsKICAgIGxldCBfdGhpcyA9IHRoaXM7CgogICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KSB7CiAgICAgIGlmICh3aW5kb3cuV29ya2VyKSB7IC8vY2hlY2sgaWYgdGhlIGJyb3dzZXIgc3VwcG9ydHMgdGhlIHdvcmtlciBBUEkKCiAgICAgICAgX3RoaXMubXlXb3JrZXIucG9zdE1lc3NhZ2UoWydvYnRhaW4nLCBwYXJhbXNdKTsKCiAgICAgICAgX3RoaXMubXlXb3JrZXIub25tZXNzYWdlID0gZnVuY3Rpb24oZSkgewogICAgICAgICAgcmVzb2x2ZShlLmRhdGEpOwogICAgICAgICAgY29uc29sZS5sb2coJ01lc3NhZ2UgcmVjZWl2ZWQgZnJvbSB3b3JrZXInLCBlLmRhdGEpOwogICAgICAgIH07CiAgICAgIH0gZWxzZSB7CiAgICAgICAgcmVqZWN0KCdlcnJvcicpOwogICAgICB9CiAgICB9KTsKICB9CgogIC8qKgogICogVGhpcyBmdW5jdGlvbiByZWNlaXZlcyBhIG1lc3NhZ2UgYW5kIGEgdmFsdWUuIEl0IHJlcGxpZXMgdGhlIHZhbHVlIHRvIHRoZSBzZW5kZXIgb2YgdGhlIG1lc3NhZ2UgcmVjZWl2ZWQKICAqCiAgKiBAcGFyYW0gIHttZXNzYWdlfSAgIG1lc3NhZ2UgcmVjZWl2ZWQKICAqIEBwYXJhbSAge3ZhbHVlfSAgICAgdmFsdWUgdG8gaW5jbHVkZSBpbiB0aGUgbmV3IG1lc3NhZ2UgdG8gc2VuZAogICovCiAgcmVwbHlNZXNzYWdlKG1zZywgdmFsdWUpIHsKICAgIGxldCBfdGhpcyA9IHRoaXM7CgogICAgbGV0IG1lc3NhZ2UgPSB7aWQ6IG1zZy5pZCwgdHlwZTogJ3Jlc3BvbnNlJywgdG86IG1zZy5mcm9tLCBmcm9tOiBtc2cudG8sCiAgICAgICAgICAgICAgICAgICBib2R5OiB7Y29kZTogMjAwLCB2YWx1ZTogdmFsdWV9fTsKCiAgICBfdGhpcy5tZXNzYWdlQnVzLnBvc3RNZXNzYWdlKG1lc3NhZ2UpOwogIH0KfQoKZXhwb3J0IGRlZmF1bHQgSWRwUHJveHlTdHViOwo=",
      "sourceCodeClassname": "IdpProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 50002,
    "type": "IDPProxys",
    "version": "0.1",
    "description": "Description of IdpProxyStub",
    "objectName": "IdpProxyStub",
    "configuration": {},
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  },
  "google.com": {
    "sourcePackage": {
      "sourceCode": "KGZ1bmN0aW9uKGYpe2lmKHR5cGVvZiBleHBvcnRzPT09Im9iamVjdCImJnR5cGVvZiBtb2R1bGUhPT0idW5kZWZpbmVkIil7bW9kdWxlLmV4cG9ydHM9ZigpfWVsc2UgaWYodHlwZW9mIGRlZmluZT09PSJmdW5jdGlvbiImJmRlZmluZS5hbWQpe2RlZmluZShbXSxmKX1lbHNle3ZhciBnO2lmKHR5cGVvZiB3aW5kb3chPT0idW5kZWZpbmVkIil7Zz13aW5kb3d9ZWxzZSBpZih0eXBlb2YgZ2xvYmFsIT09InVuZGVmaW5lZCIpe2c9Z2xvYmFsfWVsc2UgaWYodHlwZW9mIHNlbGYhPT0idW5kZWZpbmVkIil7Zz1zZWxmfWVsc2V7Zz10aGlzfWcuYWN0aXZhdGUgPSBmKCl9fSkoZnVuY3Rpb24oKXt2YXIgZGVmaW5lLG1vZHVsZSxleHBvcnRzO3JldHVybiAoZnVuY3Rpb24gZSh0LG4scil7ZnVuY3Rpb24gcyhvLHUpe2lmKCFuW29dKXtpZighdFtvXSl7dmFyIGE9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7aWYoIXUmJmEpcmV0dXJuIGEobywhMCk7aWYoaSlyZXR1cm4gaShvLCEwKTt2YXIgZj1uZXcgRXJyb3IoIkNhbm5vdCBmaW5kIG1vZHVsZSAnIitvKyInIik7dGhyb3cgZi5jb2RlPSJNT0RVTEVfTk9UX0ZPVU5EIixmfXZhciBsPW5bb109e2V4cG9ydHM6e319O3Rbb11bMF0uY2FsbChsLmV4cG9ydHMsZnVuY3Rpb24oZSl7dmFyIG49dFtvXVsxXVtlXTtyZXR1cm4gcyhuP246ZSl9LGwsbC5leHBvcnRzLGUsdCxuLHIpfXJldHVybiBuW29dLmV4cG9ydHN9dmFyIGk9dHlwZW9mIHJlcXVpcmU9PSJmdW5jdGlvbiImJnJlcXVpcmU7Zm9yKHZhciBvPTA7bzxyLmxlbmd0aDtvKyspcyhyW29dKTtyZXR1cm4gc30pKHsxOltmdW5jdGlvbihyZXF1aXJlLG1vZHVsZSxleHBvcnRzKXsKJ3VzZSBzdHJpY3QnO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCJfX2VzTW9kdWxlIix7dmFsdWU6dHJ1ZX0pO3ZhciBfY3JlYXRlQ2xhc3M9ZnVuY3Rpb24oKXtmdW5jdGlvbiBkZWZpbmVQcm9wZXJ0aWVzKHRhcmdldCxwcm9wcyl7Zm9yKHZhciBpPTA7aTxwcm9wcy5sZW5ndGg7aSsrKXt2YXIgZGVzY3JpcHRvcj1wcm9wc1tpXTtkZXNjcmlwdG9yLmVudW1lcmFibGU9ZGVzY3JpcHRvci5lbnVtZXJhYmxlfHxmYWxzZTtkZXNjcmlwdG9yLmNvbmZpZ3VyYWJsZT10cnVlO2lmKCJ2YWx1ZSIgaW4gZGVzY3JpcHRvcilkZXNjcmlwdG9yLndyaXRhYmxlPXRydWU7T2JqZWN0LmRlZmluZVByb3BlcnR5KHRhcmdldCxkZXNjcmlwdG9yLmtleSxkZXNjcmlwdG9yKTt9fXJldHVybiBmdW5jdGlvbihDb25zdHJ1Y3Rvcixwcm90b1Byb3BzLHN0YXRpY1Byb3BzKXtpZihwcm90b1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3IucHJvdG90eXBlLHByb3RvUHJvcHMpO2lmKHN0YXRpY1Byb3BzKWRlZmluZVByb3BlcnRpZXMoQ29uc3RydWN0b3Isc3RhdGljUHJvcHMpO3JldHVybiBDb25zdHJ1Y3Rvcjt9O30oKTtleHBvcnRzLmRlZmF1bHQ9YWN0aXZhdGU7ZnVuY3Rpb24gX2NsYXNzQ2FsbENoZWNrKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXt0aHJvdyBuZXcgVHlwZUVycm9yKCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb24iKTt9fXZhciBpZGVudGl0aWVzPXt9O3ZhciBuSWRlbnRpdHk9MDt2YXIgZ29vZ2xlSW5mbz17Y2xpZW50U2VjcmV0OidYeDRyS3VjYjVaWVRhWGxjWlg5SExmWlcnLGNsaWVudElEOic4MDgzMjk1NjYwMTItdHFyOHFvaDExMTk0MmdkMmtnMDA3dDBzOGYyNzdyb2kuYXBwcy5nb29nbGV1c2VyY29udGVudC5jb20nLHJlZGlyZWN0VVJJOmxvY2F0aW9uLnByb3RvY29sKycvLycrbG9jYXRpb24uaG9zdG5hbWUsIC8vbG9jYXRpb24ub3JpZ2luLAppc3N1ZXI6J2h0dHBzOi8vYWNjb3VudHMuZ29vZ2xlLmNvbScsdG9rZW5FbmRwb2ludDonaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3Y0L3Rva2VuPycsandrc1VyaTonaHR0cHM6Ly93d3cuZ29vZ2xlYXBpcy5jb20vb2F1dGgyL3YzL2NlcnRzPycsYXV0aG9yaXNhdGlvbkVuZHBvaW50OidodHRwczovL2FjY291bnRzLmdvb2dsZS5jb20vby9vYXV0aDIvYXV0aD8nLHVzZXJpbmZvOidodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdXNlcmluZm8/YWNjZXNzX3Rva2VuPScsdG9rZW5JbmZvOidodHRwczovL3d3dy5nb29nbGVhcGlzLmNvbS9vYXV0aDIvdjMvdG9rZW5pbmZvP2lkX3Rva2VuPScsYWNjZXNzVHlwZTonb2ZmbGluZScsdHlwZTonY29kZSB0b2tlbiBpZF90b2tlbicsc2NvcGU6J29wZW5pZCUyMGVtYWlsJTIwcHJvZmlsZScsc3RhdGU6J3N0YXRlJ307IC8vZnVuY3Rpb24gdG8gcGFyc2UgdGhlIHF1ZXJ5IHN0cmluZyBpbiB0aGUgZ2l2ZW4gVVJMIHRvIG9iYXRpbiBjZXJ0YWluIHZhbHVlcwpmdW5jdGlvbiB1cmxQYXJzZXIodXJsLG5hbWUpe25hbWU9bmFtZS5yZXBsYWNlKC9bXFtdLywnXFxcWycpLnJlcGxhY2UoL1tcXV0vLCdcXFxdJyk7dmFyIHJlZ2V4Uz0nW1xcIyY/XScrbmFtZSsnPShbXiYjXSopJzt2YXIgcmVnZXg9bmV3IFJlZ0V4cChyZWdleFMpO3ZhciByZXN1bHRzPXJlZ2V4LmV4ZWModXJsKTtpZihyZXN1bHRzPT09bnVsbClyZXR1cm4gJyc7ZWxzZSByZXR1cm4gcmVzdWx0c1sxXTt9ZnVuY3Rpb24gc2VuZEhUVFBSZXF1ZXN0KG1ldGhvZCx1cmwpe3ZhciB4aHI9bmV3IFhNTEh0dHBSZXF1ZXN0KCk7aWYoJ3dpdGhDcmVkZW50aWFscycgaW4geGhyKXt4aHIub3BlbihtZXRob2QsdXJsLHRydWUpO31lbHNlIGlmKHR5cGVvZiBYRG9tYWluUmVxdWVzdCE9J3VuZGVmaW5lZCcpeyAvLyBPdGhlcndpc2UsIGNoZWNrIGlmIFhEb21haW5SZXF1ZXN0LgovLyBYRG9tYWluUmVxdWVzdCBvbmx5IGV4aXN0cyBpbiBJRSwgYW5kIGlzIElFJ3Mgd2F5IG9mIG1ha2luZyBDT1JTIHJlcXVlc3RzLgp4aHI9bmV3IFhEb21haW5SZXF1ZXN0KCk7eGhyLm9wZW4obWV0aG9kLHVybCk7fWVsc2UgeyAvLyBPdGhlcndpc2UsIENPUlMgaXMgbm90IHN1cHBvcnRlZCBieSB0aGUgYnJvd3Nlci4KeGhyPW51bGw7fXJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7aWYoeGhyKXt4aHIub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKGUpe2lmKHhoci5yZWFkeVN0YXRlPT09NCl7aWYoeGhyLnN0YXR1cz09PTIwMCl7dmFyIGluZm89SlNPTi5wYXJzZSh4aHIucmVzcG9uc2VUZXh0KTtyZXNvbHZlKGluZm8pO31lbHNlIGlmKHhoci5zdGF0dXM9PT00MDApe3JlamVjdCgnVGhlcmUgd2FzIGFuIGVycm9yIHByb2Nlc3NpbmcgdGhlIHRva2VuJyk7fWVsc2Uge3JlamVjdCgnc29tZXRoaW5nIGVsc2Ugb3RoZXIgdGhhbiAyMDAgd2FzIHJldHVybmVkJyk7fX19O3hoci5zZW5kKCk7fWVsc2Uge3JlamVjdCgnQ09SUyBub3Qgc3VwcG9ydGVkJyk7fX0pO30gLyoqCiogRnVuY3Rpb24gdG8gZXhjaGFuZ2UgdGhlIGNvZGUgcmVjZWl2ZWQgdG8gdGhlIGlkIFRva2VuLCBhY2Nlc3MgdG9rZW4gYW5kIGEgcmVmcmVzaCB0b2tlbgoqCiovdmFyIGV4Y2hhbmdlQ29kZT1mdW5jdGlvbiBleGNoYW5nZUNvZGUoY29kZSl7dmFyIGk9Z29vZ2xlSW5mbzt2YXIgVVJMPWkudG9rZW5FbmRwb2ludCsnY29kZT0nK2NvZGUrJyZjbGllbnRfaWQ9JytpLmNsaWVudElEKycmY2xpZW50X3NlY3JldD0nK2kuY2xpZW50U2VjcmV0KycmcmVkaXJlY3RfdXJpPScraS5yZWRpcmVjdFVSSSsnJmdyYW50X3R5cGU9YXV0aG9yaXphdGlvbl9jb2RlJzsgLy9sZXQgVVJMID0gPSBpLnRva2VuRW5kcG9pbnQgKyAnY2xpZW50X2lkPScgKyBpLmNsaWVudElEICsgJyZjbGllbnRfc2VjcmV0PScgKyBpLmNsaWVudFNlY3JldCArICcmcmVmcmVzaF90b2tlbj0nICsgY29kZSArICcmZ3JhbnRfdHlwZT1yZWZyZXNoX3Rva2VuJzsKcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtzZW5kSFRUUFJlcXVlc3QoJ1BPU1QnLFVSTCkudGhlbihmdW5jdGlvbihpbmZvKXtyZXNvbHZlKGluZm8pO30sZnVuY3Rpb24oZXJyb3Ipe3JlamVjdChlcnJvcik7fSk7fSk7fTsgLyoqCiogSWRlbnRpdHkgUHJvdmlkZXIgUHJveHkKKi92YXIgSWRwUHJveHk9eyAvKioKICAqIEZ1bmN0aW9uIHRvIHZhbGlkYXRlIGFuIGlkZW50aXR5IEFzc2VydGlvbiByZWNlaXZlZAogICogVE9ETyBhZGQgZGV0YWlscyBvZiB0aGUgaW1wbGVtZW50YXRpb24sIGFuZCBpbXByb3ZlIHRoZSBpbXBsZW1lbnRhdGlvbgogICoKICAqIEBwYXJhbSAge2Fzc2VydGlvbn0gICAgSWRlbnRpdHkgQXNzZXJ0aW9uIHRvIGJlIHZhbGlkYXRlZAogICogQHBhcmFtICB7b3JpZ2lufSAgICAgICBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbgogICogQHJldHVybiB7UHJvbWlzZX0gICAgICBSZXR1cm5zIGEgcHJvbWlzZSB3aXRoIHRoZSBpZGVudGl0eSBhc3NlcnRpb24gdmFsaWRhdGlvbiByZXN1bHQKICAqL3ZhbGlkYXRlQXNzZXJ0aW9uOmZ1bmN0aW9uIHZhbGlkYXRlQXNzZXJ0aW9uKGFzc2VydGlvbixvcmlnaW4pe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIGk9Z29vZ2xlSW5mbzt2YXIgZGVjb2RlZENvbnRlbnQ9YXRvYihhc3NlcnRpb24pO3ZhciBjb250ZW50PUpTT04ucGFyc2UoZGVjb2RlZENvbnRlbnQpO3NlbmRIVFRQUmVxdWVzdCgnR0VUJyxpLnRva2VuSW5mbytjb250ZW50LnRva2VuSUQpLnRoZW4oZnVuY3Rpb24ocmVzdWx0KXtpZihKU09OLnN0cmluZ2lmeShyZXN1bHQpPT09SlNPTi5zdHJpbmdpZnkoY29udGVudC50b2tlbklESlNPTikpe3Jlc29sdmUoe2lkZW50aXR5OmNvbnRlbnQudG9rZW5JREpTT04uZW1haWwsY29udGVudHM6Y29udGVudC50b2tlbklESlNPTn0pO31lbHNlIHtyZWplY3QoJ2ludmFsaWQnKTt9fSxmdW5jdGlvbihlcnIpe3JlamVjdChlcnIpO30pO30pO30sIC8qKgogICogRnVuY3Rpb24gdG8gZ2VuZXJhdGUgYW4gaWRlbnRpdHkgQXNzZXJ0aW9uCiAgKiBUT0RPIGFkZCBkZXRhaWxzIG9mIHRoZSBpbXBsZW1lbnRhdGlvbiwgYW5kIGltcHJvdmUgaW1wbGVtZW50YXRpb24KICAqCiAgKiBAcGFyYW0gIHtjb250ZW50c30gVGhlIGNvbnRlbnRzIGluY2x1ZGVzIGluZm9ybWF0aW9uIGFib3V0IHRoZSBpZGVudGl0eSByZWNlaXZlZAogICogQHBhcmFtICB7b3JpZ2lufSBPcmlnaW4gcGFyYW1ldGVyIHRoYXQgaWRlbnRpZmllcyB0aGUgb3JpZ2luIG9mIHRoZSBSVENQZWVyQ29ubmVjdGlvbgogICogQHBhcmFtICB7dXNlcm5hbWVIaW50fSBvcHRpb25hbCB1c2VybmFtZUhpbnQgcGFyYW1ldGVyCiAgKiBAcmV0dXJuIHtQcm9taXNlfSByZXR1cm5zIGEgcHJvbWlzZSB3aXRoIGFuIGlkZW50aXR5IGFzc2VydGlvbgogICovZ2VuZXJhdGVBc3NlcnRpb246ZnVuY3Rpb24gZ2VuZXJhdGVBc3NlcnRpb24oY29udGVudHMsb3JpZ2luLGhpbnQpe3ZhciBpPWdvb2dsZUluZm87IC8vc3RhcnQgdGhlIGxvZ2luIHBoYXNlCi8vVE9ETyBsYXRlciBzaG91bGQgYmUgZGVmaW5lZCBhIGJldHRlciBhcHByb2FjaApyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2lmKCFjb250ZW50cyl7IC8qdHJ5IHsKICAgICAgICAgIGlmICh3aW5kb3cpIHsKICAgICAgICAgICAgcmVzb2x2ZSgndXJsJyk7CiAgICAgICAgICB9CiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHsqL3ZhciByZXF1ZXN0VXJsPWkuYXV0aG9yaXNhdGlvbkVuZHBvaW50KydzY29wZT0nK2kuc2NvcGUrJyZjbGllbnRfaWQ9JytpLmNsaWVudElEKycmcmVkaXJlY3RfdXJpPScraS5yZWRpcmVjdFVSSSsnJnJlc3BvbnNlX3R5cGU9JytpLnR5cGUrJyZzdGF0ZT0nK2kuc3RhdGUrJyZhY2Nlc3NfdHlwZT0nK2kuYWNjZXNzVHlwZTtyZWplY3Qoe25hbWU6J0lkUExvZ2luRXJyb3InLGxvZ2luVXJsOnJlcXVlc3RVcmx9KTsgLy8gIH0KfWVsc2UgeyAvLyB0aGUgcmVxdWVzdCBoYXZlIGFscmVhZHkgYmVlbiBtYWRlLCBzbyBpZHBQUm94eSB3aWxsIGV4Y2hhbmdlIHRoZSB0b2tlbnMgYWxvbmcgdG8gdGhlIGlkcCwgdG8gb2J0YWluIHRoZSBpbmZvcm1hdGlvbiBuZWNlc3NhcnkKdmFyIGFjY2Vzc1Rva2VuPXVybFBhcnNlcihjb250ZW50cywnYWNjZXNzX3Rva2VuJyk7dmFyIGlkVG9rZW49dXJsUGFyc2VyKGNvbnRlbnRzLCdpZF90b2tlbicpO3ZhciBjb2RlPXVybFBhcnNlcihjb250ZW50cywnY29kZScpO2V4Y2hhbmdlQ29kZShjb2RlKS50aGVuKGZ1bmN0aW9uKHZhbHVlKXsgLy9vYnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIKdmFyIGluZm9Ub2tlblVSTD1pLnVzZXJpbmZvK3ZhbHVlLmFjY2Vzc190b2tlbjtzZW5kSFRUUFJlcXVlc3QoJ0dFVCcsaW5mb1Rva2VuVVJMKS50aGVuKGZ1bmN0aW9uKGluZm9Ub2tlbil7dmFyIGlkZW50aXR5QnVuZGxlPXthY2Nlc3NUb2tlbjp2YWx1ZS5hY2Nlc3NfdG9rZW4saWRUb2tlbjp2YWx1ZS5pZF90b2tlbixyZWZyZXNoVG9rZW46dmFsdWUucmVmcmVzaF90b2tlbix0b2tlblR5cGU6dmFsdWUudG9rZW5fdHlwZSxpbmZvVG9rZW46aW5mb1Rva2VufTt2YXIgaWRUb2tlblVSTD1pLnRva2VuSW5mbyt2YWx1ZS5pZF90b2tlbjsgLy9vYnRhaW4gaW5mb3JtYXRpb24gYWJvdXQgdGhlIHVzZXIgaWRUb2tlbgpzZW5kSFRUUFJlcXVlc3QoJ0dFVCcsaWRUb2tlblVSTCkudGhlbihmdW5jdGlvbihpZFRva2VuKXtpZGVudGl0eUJ1bmRsZS50b2tlbklESlNPTj1pZFRva2VuO2lkZW50aXR5QnVuZGxlLmV4cGlyZXM9aWRUb2tlbi5leHA7aWRlbnRpdHlCdW5kbGUuZW1haWw9aWRUb2tlbi5lbWFpbDt2YXIgYXNzZXJ0aW9uPWJ0b2EoSlNPTi5zdHJpbmdpZnkoe3Rva2VuSUQ6dmFsdWUuaWRfdG9rZW4sdG9rZW5JREpTT046aWRUb2tlbn0pKTt2YXIgaWRwQnVuZGxlPXtkb21haW46J2dvb2dsZS5jb20nLHByb3RvY29sOidPSURDJ307IC8vVE9ETyBkZWxldGUgbGF0ZXIgdGhlIGZpZWxkIGluZm9Ub2tlbiwgYW5kIGRlbGV0ZSB0aGUgbmVlZCBpbiB0aGUgZXhhbXBsZQp2YXIgcmV0dXJuVmFsdWU9e2Fzc2VydGlvbjphc3NlcnRpb24saWRwOmlkcEJ1bmRsZSxpbmZvOmlkZW50aXR5QnVuZGxlLGluZm9Ub2tlbjppbmZvVG9rZW59O2lkZW50aXRpZXNbbklkZW50aXR5XT1yZXR1cm5WYWx1ZTsrK25JZGVudGl0eTtyZXNvbHZlKHJldHVyblZhbHVlKTt9LGZ1bmN0aW9uKGUpe3JlamVjdChlKTt9KTt9LGZ1bmN0aW9uKGVycm9yKXtyZWplY3QoZXJyb3IpO30pO30sZnVuY3Rpb24oZXJyKXtyZWplY3QoZXJyKTt9KTt9fSk7fX07IC8qKgoqIElkZW50aXR5IFByb3ZpZGVyIFByb3h5IFByb3RvY29sIFN0dWIKKi92YXIgSWRwUHJveHlQcm90b1N0dWI9ZnVuY3Rpb24oKXsgLyoqCiAgKiBDb25zdHJ1Y3RvciBvZiB0aGUgSWRwUHJveHkgU3R1YgogICogVGhlIGNvbnN0cnVjdG9yIGFkZCBhIGxpc3RlbmVyIGluIHRoZSBtZXNzYWdlQnVzIHJlY2VpdmVkIGFuZCBzdGFydCBhIHdlYiB3b3JrZXIgd2l0aCB0aGUgaWRwUHJveHkgcmVjZWl2ZWQKICAqCiAgKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICAqIEBwYXJhbSAge01lc3NhZ2UuTWVzc2FnZX0gICAgICAgICAgICAgICAgICAgICAgICAgICBidXNQb3N0TWVzc2FnZSAgICAgY29uZmlndXJhdGlvbgogICogQHBhcmFtICB7UHJvdG9TdHViRGVzY3JpcHRvci5Db25maWd1cmF0aW9uRGF0YUxpc3R9IGNvbmZpZ3VyYXRpb24gICAgICBjb25maWd1cmF0aW9uCiAgKi9mdW5jdGlvbiBJZHBQcm94eVByb3RvU3R1YihydW50aW1lUHJvdG9TdHViVVJMLGJ1cyxjb25maWcpe19jbGFzc0NhbGxDaGVjayh0aGlzLElkcFByb3h5UHJvdG9TdHViKTt2YXIgX3RoaXM9dGhpcztfdGhpcy5ydW50aW1lUHJvdG9TdHViVVJMPXJ1bnRpbWVQcm90b1N0dWJVUkw7X3RoaXMubWVzc2FnZUJ1cz1idXM7X3RoaXMuY29uZmlnPWNvbmZpZztfdGhpcy5tZXNzYWdlQnVzLmFkZExpc3RlbmVyKCcqJyxmdW5jdGlvbihtc2cpe2lmKG1zZy50bz09PSdkb21haW4taWRwOi8vZ29vZ2xlLmNvbScpe190aGlzLnJlcXVlc3RUb0lkcChtc2cpO319KTt9IC8qKgogICogRnVuY3Rpb24gdGhhdCBzZWUgdGhlIGludGVuZGVkIG1ldGhvZCBpbiB0aGUgbWVzc2FnZSByZWNlaXZlZCBhbmQgY2FsbCB0aGUgcmVzcGVjdGl2ZSBmdW5jdGlvbgogICoKICAqIEBwYXJhbSB7bWVzc2FnZX0gIG1lc3NhZ2UgcmVjZWl2ZWQgaW4gdGhlIG1lc3NhZ2VCdXMKICAqL19jcmVhdGVDbGFzcyhJZHBQcm94eVByb3RvU3R1Yixbe2tleToncmVxdWVzdFRvSWRwJyx2YWx1ZTpmdW5jdGlvbiByZXF1ZXN0VG9JZHAobXNnKXt2YXIgX3RoaXM9dGhpczt2YXIgcGFyYW1zPW1zZy5ib2R5LnBhcmFtcztzd2l0Y2gobXNnLmJvZHkubWV0aG9kKXtjYXNlICdnZW5lcmF0ZUFzc2VydGlvbic6SWRwUHJveHkuZ2VuZXJhdGVBc3NlcnRpb24ocGFyYW1zLmNvbnRlbnRzLHBhcmFtcy5vcmlnaW4scGFyYW1zLnVzZXJuYW1lSGludCkudGhlbihmdW5jdGlvbih2YWx1ZSl7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyx2YWx1ZSk7fSxmdW5jdGlvbihlcnJvcil7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyxlcnJvcik7fSk7YnJlYWs7Y2FzZSAndmFsaWRhdGVBc3NlcnRpb24nOklkcFByb3h5LnZhbGlkYXRlQXNzZXJ0aW9uKHBhcmFtcy5hc3NlcnRpb24scGFyYW1zLm9yaWdpbikudGhlbihmdW5jdGlvbih2YWx1ZSl7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyx2YWx1ZSk7fSxmdW5jdGlvbihlcnJvcil7X3RoaXMucmVwbHlNZXNzYWdlKG1zZyxlcnJvcik7fSk7YnJlYWs7ZGVmYXVsdDpicmVhazt9fSAvKioKICAqIFRoaXMgZnVuY3Rpb24gcmVjZWl2ZXMgYSBtZXNzYWdlIGFuZCBhIHZhbHVlLiBJdCByZXBsaWVzIHRoZSB2YWx1ZSB0byB0aGUgc2VuZGVyIG9mIHRoZSBtZXNzYWdlIHJlY2VpdmVkCiAgKgogICogQHBhcmFtICB7bWVzc2FnZX0gICBtZXNzYWdlIHJlY2VpdmVkCiAgKiBAcGFyYW0gIHt2YWx1ZX0gICAgIHZhbHVlIHRvIGluY2x1ZGUgaW4gdGhlIG5ldyBtZXNzYWdlIHRvIHNlbmQKICAqL30se2tleToncmVwbHlNZXNzYWdlJyx2YWx1ZTpmdW5jdGlvbiByZXBseU1lc3NhZ2UobXNnLHZhbHVlKXt2YXIgX3RoaXM9dGhpczt2YXIgbWVzc2FnZT17aWQ6bXNnLmlkLHR5cGU6J3Jlc3BvbnNlJyx0bzptc2cuZnJvbSxmcm9tOm1zZy50byxib2R5Ontjb2RlOjIwMCx2YWx1ZTp2YWx1ZX19O190aGlzLm1lc3NhZ2VCdXMucG9zdE1lc3NhZ2UobWVzc2FnZSk7fX1dKTtyZXR1cm4gSWRwUHJveHlQcm90b1N0dWI7fSgpOyAvLyBleHBvcnQgZGVmYXVsdCBJZHBQcm94eVByb3RvU3R1YjsKLyoqCiAqIFRvIGFjdGl2YXRlIHRoaXMgcHJvdG9jb2wgc3R1YiwgdXNpbmcgdGhlIHNhbWUgbWV0aG9kIGZvciBhbGwgcHJvdG9zdHViLgogKiBAcGFyYW0gIHtVUkwuUnVudGltZVVSTH0gICAgICAgICAgICAgICAgICAgICAgICAgICAgcnVudGltZVByb3RvU3R1YlVSTCBydW50aW1lUHJvdG9TdWJVUkwKICogQHBhcmFtICB7TWVzc2FnZS5NZXNzYWdlfSAgICAgICAgICAgICAgICAgICAgICAgICAgIGJ1c1Bvc3RNZXNzYWdlICAgICBjb25maWd1cmF0aW9uCiAqIEBwYXJhbSAge1Byb3RvU3R1YkRlc2NyaXB0b3IuQ29uZmlndXJhdGlvbkRhdGFMaXN0fSBjb25maWd1cmF0aW9uICAgICAgY29uZmlndXJhdGlvbgogKiBAcmV0dXJuIHtPYmplY3R9IE9iamVjdCB3aXRoIG5hbWUgYW5kIGluc3RhbmNlIG9mIFByb3RvU3R1YgogKi9mdW5jdGlvbiBhY3RpdmF0ZSh1cmwsYnVzLGNvbmZpZyl7cmV0dXJuIHtuYW1lOidJZHBQcm94eVByb3RvU3R1YicsaW5zdGFuY2U6bmV3IElkcFByb3h5UHJvdG9TdHViKHVybCxidXMsY29uZmlnKX07fW1vZHVsZS5leHBvcnRzPWV4cG9ydHNbJ2RlZmF1bHQnXTsKCn0se31dfSx7fSxbMV0pKDEpCn0pOw==",
      "sourceCodeClassname": "IdpProxyStub",
      "encoding": "base64",
      "signature": ""
    },
    "cguid": 50003,
    "type": "IDPProxys",
    "version": "0.1",
    "description": "Description of IdpProxyStub",
    "objectName": "IdpProxyStub",
    "configuration": {},
    "constraints": "",
    "sourcePackageURL": "/sourcePackage",
    "language": "javascript",
    "signature": "",
    "messageSchemas": "",
    "dataObjects": [],
    "accessControlPolicy": "somePolicy"
  }
}

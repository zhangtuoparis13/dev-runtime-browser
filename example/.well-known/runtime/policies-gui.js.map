{"version":3,"sources":["node_modules/browser-pack/_prelude.js","policies-gui.js","src/admin/PoliciesGUI.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","policiesGui","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","PoliciesGUI","policyEngine","_this","$","on","showPoliciesGUI","setButtons","event","goHome","showNewGroupPanel","addGroup","goToPoliciesHome","showNewUserPanel","addUser","changeGroupReachability","deleteGroup","showNewTimeslotPanel","addTimeslot","changeTimeslot","deleteTimeslot","showMyGroups","showMyTimeslots","removeClass","addClass","groupsNames","getGroupsNames","numGroups","$myGroups","html","append","document","createElement","className","appendChild","createTextNode","showGroupDetails","groupMembers","groupName","undefined","innerText","getGroup","text","numMembers","$members","table","tbody","tr","td","textContent","btn","deleteUser","isReachable","getGroupReachability","status","member","style","email","parentNode","children","removeFromGroup","Materialize","toast","val","newGroupName","createGroup","newUserEmail","addToGroup","condition","authorise","policy","scope","actions","addPolicies","changePolicy","removeGroup","timeslots","getTimeslots","numTimeslots","$myTimeslots","array","split","shift","time","showTimeslotDetails","timeslot","getTimeslotById","start","end","addPolicy","removePolicies"],"mappings":"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","file":"policies-gui.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.policiesGui = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint browser:true, jquery: true\n\nvar PoliciesGUI = function () {\n  function PoliciesGUI(policyEngine) {\n    _classCallCheck(this, PoliciesGUI);\n\n    if (!policyEngine) throw Error('Policy Engine not set!');\n    var _this = this;\n\n    _this.policyEngine = policyEngine;\n\n    $('.policies-btn').on('click', function () {\n      _this.showPoliciesGUI();\n    });\n\n    _this.setButtons();\n  }\n\n  _createClass(PoliciesGUI, [{\n    key: 'setButtons',\n    value: function setButtons() {\n      var _this = this;\n      $('.back').on('click', function (event) {\n        return _this.goHome();\n      });\n\n      $('.group-new').on('click', function (event) {\n        return _this.showNewGroupPanel();\n      });\n      $('.group-add').on('click', function (event) {\n        return _this.addGroup();\n      });\n      $('.group-new-close').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n      $('.group-user-new').on('click', function (event) {\n        return _this.showNewUserPanel();\n      });\n      $('.group-user-add').on('click', function (event) {\n        return _this.addUser();\n      });\n      $('.group-allow').on('click', function (event) {\n        return _this.changeGroupReachability(true);\n      });\n      $('.group-block').on('click', function (event) {\n        return _this.changeGroupReachability(false);\n      });\n      $('.group-delete').on('click', function (event) {\n        return _this.deleteGroup();\n      });\n      $('.group-cancel').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n\n      $('.timeslot-creation').on('click', function (event) {\n        return _this.showNewTimeslotPanel();\n      });\n      $('.timeslot-new-allow').on('click', function (event) {\n        return _this.addTimeslot(true);\n      });\n      $('.timeslot-new-block').on('click', function (event) {\n        return _this.addTimeslot(false);\n      });\n      $('.timeslot-new-cancel').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n      $('.timeslot-change-allow').on('click', function (event) {\n        return _this.changeTimeslot(true);\n      });\n      $('.timeslot-change-block').on('click', function (event) {\n        return _this.changeTimeslot(false);\n      });\n      $('.timeslot-delete').on('click', function (event) {\n        return _this.deleteTimeslot();\n      });\n      $('.timeslot-cancel').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n    }\n  }, {\n    key: 'showPoliciesGUI',\n    value: function showPoliciesGUI() {\n      var _this = this;\n      _this.showMyGroups();\n      _this.showMyTimeslots();\n\n      $('.policies-gui').removeClass('hide');\n    }\n  }, {\n    key: 'goHome',\n    value: function goHome() {\n      $('.policies-gui').addClass('hide');\n      $('.identities-gui').addClass('hide');\n    }\n  }, {\n    key: 'goToPoliciesHome',\n    value: function goToPoliciesHome() {\n      $('.group-main').removeClass('hide');\n      $('.group-details').addClass('hide');\n      $('.group-new').removeClass('hide');\n      $('.group-new-panel').addClass('hide');\n\n      $('.timeslots-main').removeClass('hide');\n      $('.timeslot-details').addClass('hide');\n      $('.timeslot-creation').removeClass('hide');\n      $('.timeslot-new-panel').addClass('hide');\n    }\n  }, {\n    key: 'showMyGroups',\n    value: function showMyGroups() {\n      var _this = this;\n      var groupsNames = _this.policyEngine.getGroupsNames();\n      var numGroups = groupsNames.length;\n\n      var $myGroups = $('.groups-names');\n      $myGroups.html('');\n      if (numGroups === 0) {\n        $myGroups.append('<p>There are no groups to display.</p>');\n      } else {\n        for (var i = 0; i < numGroups; i++) {\n          var a = document.createElement('a');\n          a.className = 'collection-item';\n          a.appendChild(document.createTextNode(groupsNames[i]));\n          $myGroups.append(a);\n        }\n      }\n\n      $('.groups-names').removeClass('hide');\n      $('.groups-names').on('click', function (event) {\n        return _this.showGroupDetails();\n      });\n    }\n  }, {\n    key: 'showGroupDetails',\n    value: function showGroupDetails(groupMembers) {\n      var _this = this;\n\n      var groupName = void 0;\n      if (groupMembers === undefined) {\n        groupName = event.target.innerText;\n        $('.group-name').html(groupName);\n        groupMembers = _this.policyEngine.getGroup(groupName);\n      } else {\n        groupName = $('.group-name').text();\n      }\n\n      var numMembers = groupMembers.length;\n\n      var $members = $('.group-members');\n      if (numMembers === 0) {\n        $members.html('<p>This group has no members.</p>');\n      } else {\n        $members.html('');\n        var table = document.createElement('table');\n        table.className = 'centered';\n\n        var tbody = document.createElement('tbody');\n        for (var i = 0; i < numMembers; i++) {\n          var tr = document.createElement('tr');\n          var td = document.createElement('td');\n          td.textContent = groupMembers[i];\n          tr.appendChild(td);\n          td = document.createElement('td');\n          var btn = document.createElement('button');\n          btn.textContent = 'Remove';\n          btn.className = 'remove-id waves-effect waves-light btn';\n          td.appendChild(btn);\n          tr.appendChild(td);\n          tbody.appendChild(tr);\n        }\n\n        table.appendChild(tbody);\n        $members.append(table);\n\n        $('.remove-id').on('click', function (event) {\n          return _this.deleteUser(groupName);\n        });\n      }\n\n      var isReachable = _this.policyEngine.getGroupReachability(groupName);\n      var status = 'not set';\n      if (isReachable !== undefined) {\n        status = isReachable ? 'allowed' : 'blocked';\n      }\n\n      $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n      $('.group-main').addClass('hide');\n      $('.group-details').removeClass('hide');\n      $('.group-new').addClass('hide');\n    }\n  }, {\n    key: 'createTableRow',\n    value: function createTableRow(member) {\n      var tr = document.createElement('tr');\n\n      var td = document.createElement('td');\n      td.textContent = member;\n      td.className = 'clickable-cell';\n      td.style = 'cursor: pointer';\n      tr.appendChild(td);\n      td = document.createElement('td');\n      var btn = document.createElement('button');\n      btn.textContent = 'Remove';\n      btn.className = 'remove-id waves-effect waves-light btn';\n      td.appendChild(btn);\n      tr.appendChild(td);\n\n      return tr;\n    }\n  }, {\n    key: 'deleteUser',\n    value: function deleteUser(groupName) {\n      var _this = this;\n      var email = event.target.parentNode.parentNode.children[0].innerText;\n      _this.policyEngine.removeFromGroup(email, groupName);\n      Materialize.toast('User \\'' + email + '\\' succesfuly removed from \\'' + groupName + '\\' group!', 2000);\n      _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n    }\n  }, {\n    key: 'showNewGroupPanel',\n    value: function showNewGroupPanel() {\n      $('.group-new-panel').removeClass('hide');\n      $('.group-details').addClass('hide');\n      $('#newGroupName').val('');\n    }\n  }, {\n    key: 'addGroup',\n    value: function addGroup() {\n      var _this = this;\n      $('.group-new-panel').addClass('hide');\n      var newGroupName = $('#newGroupName').val();\n      _this.policyEngine.createGroup(newGroupName);\n      Materialize.toast('Group \\'' + newGroupName + '\\' succesfuly created!', 2000);\n      _this.showMyGroups();\n    }\n  }, {\n    key: 'showNewUserPanel',\n    value: function showNewUserPanel() {\n      var _this = this;\n      $('#newUserEmail').val('');\n      $('.group-user-new-panel').removeClass('hide');\n    }\n  }, {\n    key: 'addUser',\n    value: function addUser() {\n      var _this = this;\n      var newUserEmail = $('#newUserEmail').val();\n      var groupName = $('.group-name').text();\n      _this.policyEngine.addToGroup(newUserEmail, groupName);\n      _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n      Materialize.toast('User \\'' + newUserEmail + '\\' successfully added to \\'' + groupName + '\\' group!', 2000);\n      $('.group-user-new-panel').addClass('hide');\n    }\n  }, {\n    key: 'addPolicy',\n    value: function addPolicy(condition, authorise) {\n      var _this = this;\n      var policy = {\n        scope: 'user',\n        condition: condition,\n        authorise: authorise,\n        actions: []\n      };\n\n      _this.policyEngine.addPolicies([policy]);\n    }\n  }, {\n    key: 'changeGroupReachability',\n    value: function changeGroupReachability(authorise) {\n      var _this = this;\n      var groupName = $('.group-name').text();\n      _this.policyEngine.changePolicy('group ' + groupName, authorise);\n      var status = authorise ? 'allowed' : 'blocked';\n      Materialize.toast('Reachability of \\'' + groupName + '\\' group succesfuly changed to ' + status + '!', 2000);\n      $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    }\n  }, {\n    key: 'deleteGroup',\n    value: function deleteGroup() {\n      var _this = this;\n      var groupName = $('.group-name').text();\n      _this.policyEngine.removeGroup(groupName);\n      Materialize.toast('Group \\'' + groupName + '\\' succesfuly deleted!', 2000);\n      _this.goToPoliciesHome();\n      _this.showMyGroups();\n    }\n\n    /*******************************************************/\n\n  }, {\n    key: 'showMyTimeslots',\n    value: function showMyTimeslots() {\n      var _this = this;\n      var timeslots = _this.policyEngine.getTimeslots();\n      var numTimeslots = timeslots.length;\n      var $myTimeslots = $('.timeslots');\n      $myTimeslots.html('');\n      if (numTimeslots === 0) {\n        $myTimeslots.append('<p>There are no time restrictions set.</p>');\n      } else {\n        for (var i = 0; i < numTimeslots; i++) {\n          var array = timeslots[i].split(' ');\n          array.shift();\n          var a = document.createElement('a');\n          a.className = 'collection-item';\n          var time = timeslots[i].split(' ');\n          a.appendChild(document.createTextNode(time[1] + ' - ' + time[2]));\n          $myTimeslots.append(a);\n        }\n      }\n\n      $('.timeslots').removeClass('hide');\n      $('.timeslots').on('click', function (event) {\n        return _this.showTimeslotDetails();\n      });\n    }\n  }, {\n    key: 'showTimeslotDetails',\n    value: function showTimeslotDetails() {\n      var _this = this;\n      var timeslot = event.target.innerText;\n\n      $('.timeslot').html(timeslot);\n      var time = timeslot.split(' - ');\n      var policy = _this.policyEngine.getTimeslotById('time ' + time[0] + ' ' + time[1]);\n      var status = policy.authorise ? 'allowed' : 'blocked';\n      $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n\n      $('.timeslots-main').addClass('hide');\n      $('.timeslot-details').removeClass('hide');\n      $('.timeslot-creation').addClass('hide');\n    }\n  }, {\n    key: 'showNewTimeslotPanel',\n    value: function showNewTimeslotPanel() {\n      $('.timeslot-new-panel').removeClass('hide');\n      $('#startTime').val('');\n      $('#endTime').val('');\n    }\n  }, {\n    key: 'addTimeslot',\n    value: function addTimeslot(authorise) {\n      var _this = this;\n      var start = $('#startTime').val();\n      var end = $('#endTime').val();\n      _this.addPolicy('time ' + start + ' ' + end, authorise);\n      Materialize.toast('Timeslot ' + start + ' to ' + end + ' succesfuly created!', 2000);\n      _this.goToPoliciesHome();\n      _this.showMyTimeslots();\n    }\n  }, {\n    key: 'changeTimeslot',\n    value: function changeTimeslot(authorise) {\n      var _this = this;\n      var timeslot = $('.timeslot').text();\n      var time = timeslot.split(' - ');\n      _this.policyEngine.changePolicy('time ' + time[0] + ' ' + time[1], authorise);\n      var status = authorise ? 'allowed' : 'blocked';\n      Materialize.toast('Timeslot reachability succesfuly changed to ' + status + '!', 2000);\n      $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    }\n  }, {\n    key: 'deleteTimeslot',\n    value: function deleteTimeslot() {\n      var _this = this;\n      var timeslot = $('.timeslot').text();\n      var time = timeslot.split(' - ');\n      _this.policyEngine.removePolicies('time ' + time[0] + ' ' + time[1], 'user');\n      Materialize.toast('Timeslot ' + time[0] + ' to ' + time[1] + ' succesfuly deleted!', 2000);\n      _this.goToPoliciesHome();\n      _this.showMyTimeslots();\n    }\n  }]);\n\n  return PoliciesGUI;\n}();\n\nexports.default = PoliciesGUI;\n\n},{}]},{},[1])(1)\n});\n\n","// jshint browser:true, jquery: true\n\nclass PoliciesGUI {\n\n  constructor(policyEngine) {\n    if (!policyEngine) throw Error('Policy Engine not set!');\n    let _this = this;\n\n    _this.policyEngine = policyEngine;\n\n    $('.policies-btn').on('click', function () {\n      _this.showPoliciesGUI();\n    });\n\n    _this.setButtons();\n  }\n\n  setButtons() {\n    let _this = this;\n    $('.back').on('click', (event) => _this.goHome());\n\n    $('.group-new').on('click', (event) => _this.showNewGroupPanel());\n    $('.group-add').on('click', (event) => _this.addGroup());\n    $('.group-new-close').on('click', (event) => _this.goToPoliciesHome());\n    $('.group-user-new').on('click', (event) => _this.showNewUserPanel());\n    $('.group-user-add').on('click', (event) => _this.addUser());\n    $('.group-allow').on('click', (event) => _this.changeGroupReachability(true));\n    $('.group-block').on('click', (event) => _this.changeGroupReachability(false));\n    $('.group-delete').on('click', (event) => _this.deleteGroup());\n    $('.group-cancel').on('click', (event) => _this.goToPoliciesHome());\n\n    $('.timeslot-creation').on('click', (event) => _this.showNewTimeslotPanel());\n    $('.timeslot-new-allow').on('click', (event) => _this.addTimeslot(true));\n    $('.timeslot-new-block').on('click', (event) => _this.addTimeslot(false));\n    $('.timeslot-new-cancel').on('click', (event) => _this.goToPoliciesHome());\n    $('.timeslot-change-allow').on('click', (event) => _this.changeTimeslot(true));\n    $('.timeslot-change-block').on('click', (event) => _this.changeTimeslot(false));\n    $('.timeslot-delete').on('click', (event) => _this.deleteTimeslot());\n    $('.timeslot-cancel').on('click', (event) => _this.goToPoliciesHome());\n  }\n\n  showPoliciesGUI() {\n    let _this = this;\n    _this.showMyGroups();\n    _this.showMyTimeslots();\n\n    $('.policies-gui').removeClass('hide');\n  }\n\n  goHome() {\n    $('.policies-gui').addClass('hide');\n    $('.identities-gui').addClass('hide');\n  }\n\n  goToPoliciesHome() {\n    $('.group-main').removeClass('hide');\n    $('.group-details').addClass('hide');\n    $('.group-new').removeClass('hide');\n    $('.group-new-panel').addClass('hide');\n\n    $('.timeslots-main').removeClass('hide');\n    $('.timeslot-details').addClass('hide');\n    $('.timeslot-creation').removeClass('hide');\n    $('.timeslot-new-panel').addClass('hide');\n  }\n\n  showMyGroups() {\n    let _this = this;\n    let groupsNames = _this.policyEngine.getGroupsNames();\n    let numGroups = groupsNames.length;\n\n    let $myGroups = $('.groups-names');\n    $myGroups.html('');\n    if (numGroups === 0) {\n      $myGroups.append('<p>There are no groups to display.</p>');\n    } else {\n      for (let i = 0; i < numGroups; i++) {\n        let a = document.createElement('a');\n        a.className = 'collection-item';\n        a.appendChild(document.createTextNode(groupsNames[i]));\n        $myGroups.append(a);\n      }\n    }\n\n    $('.groups-names').removeClass('hide');\n    $('.groups-names').on('click', (event) => _this.showGroupDetails());\n  }\n\n  showGroupDetails(groupMembers) {\n    let _this = this;\n\n    let groupName;\n    if (groupMembers === undefined) {\n      groupName = event.target.innerText;\n      $('.group-name').html(groupName);\n      groupMembers = _this.policyEngine.getGroup(groupName);\n    } else {\n      groupName = $('.group-name').text();\n    }\n\n    let numMembers = groupMembers.length;\n\n    let $members = $('.group-members');\n    if (numMembers === 0) {\n      $members.html('<p>This group has no members.</p>');\n    } else {\n      $members.html('');\n      let table = document.createElement('table');\n      table.className = 'centered';\n\n      let tbody = document.createElement('tbody');\n      for (let i = 0; i < numMembers; i++) {\n        let tr = document.createElement('tr');\n        let td = document.createElement('td');\n        td.textContent = groupMembers[i];\n        tr.appendChild(td);\n        td = document.createElement('td');\n        let btn = document.createElement('button');\n        btn.textContent = 'Remove';\n        btn.className = 'remove-id waves-effect waves-light btn';\n        td.appendChild(btn);\n        tr.appendChild(td);\n        tbody.appendChild(tr);\n      }\n\n      table.appendChild(tbody);\n      $members.append(table);\n\n      $('.remove-id').on('click', (event) => _this.deleteUser(groupName));\n    }\n\n    let isReachable = _this.policyEngine.getGroupReachability(groupName);\n    let status = 'not set';\n    if (isReachable !== undefined) {\n      status = isReachable ? 'allowed' : 'blocked';\n    }\n\n    $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    $('.group-main').addClass('hide');\n    $('.group-details').removeClass('hide');\n    $('.group-new').addClass('hide');\n  }\n\n  createTableRow(member) {\n    let tr = document.createElement('tr');\n\n    let td = document.createElement('td');\n    td.textContent = member;\n    td.className = 'clickable-cell';\n    td.style = 'cursor: pointer';\n    tr.appendChild(td);\n    td = document.createElement('td');\n    let btn = document.createElement('button');\n    btn.textContent = 'Remove';\n    btn.className = 'remove-id waves-effect waves-light btn';\n    td.appendChild(btn);\n    tr.appendChild(td);\n\n    return tr;\n  }\n\n  deleteUser(groupName) {\n    let _this = this;\n    let email = event.target.parentNode.parentNode.children[0].innerText;\n    _this.policyEngine.removeFromGroup(email, groupName);\n    Materialize.toast('User \\'' + email + '\\' succesfuly removed from \\'' + groupName + '\\' group!', 2000);\n    _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n  }\n\n  showNewGroupPanel() {\n    $('.group-new-panel').removeClass('hide');\n    $('.group-details').addClass('hide');\n    $('#newGroupName').val('');\n  }\n\n  addGroup() {\n    let _this = this;\n    $('.group-new-panel').addClass('hide');\n    let newGroupName = $('#newGroupName').val();\n    _this.policyEngine.createGroup(newGroupName);\n    Materialize.toast('Group \\'' + newGroupName + '\\' succesfuly created!', 2000);\n    _this.showMyGroups();\n  }\n\n  showNewUserPanel() {\n    let _this = this;\n    $('#newUserEmail').val('');\n    $('.group-user-new-panel').removeClass('hide');\n  }\n\n  addUser() {\n    let _this = this;\n    let newUserEmail = $('#newUserEmail').val();\n    let groupName = $('.group-name').text();\n    _this.policyEngine.addToGroup(newUserEmail, groupName);\n    _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n    Materialize.toast('User \\'' + newUserEmail + '\\' successfully added to \\'' + groupName + '\\' group!', 2000);\n    $('.group-user-new-panel').addClass('hide');\n  }\n\n  addPolicy(condition, authorise) {\n    let _this = this;\n    let policy = {\n      scope: 'user',\n      condition: condition,\n      authorise: authorise,\n      actions: []\n    };\n\n    _this.policyEngine.addPolicies([policy]);\n  }\n\n  changeGroupReachability(authorise) {\n    let _this = this;\n    let groupName = $('.group-name').text();\n    _this.policyEngine.changePolicy('group ' + groupName, authorise);\n    let status = authorise ? 'allowed' : 'blocked';\n    Materialize.toast('Reachability of \\'' + groupName + '\\' group succesfuly changed to ' + status + '!', 2000);\n    $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n  }\n\n  deleteGroup() {\n    let _this = this;\n    let groupName = $('.group-name').text();\n    _this.policyEngine.removeGroup(groupName);\n    Materialize.toast('Group \\'' + groupName + '\\' succesfuly deleted!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyGroups();\n  }\n\n  /*******************************************************/\n\n  showMyTimeslots() {\n    let _this = this;\n    let timeslots = _this.policyEngine.getTimeslots();\n    let numTimeslots = timeslots.length;\n    let $myTimeslots = $('.timeslots');\n    $myTimeslots.html('');\n    if (numTimeslots === 0) {\n      $myTimeslots.append('<p>There are no time restrictions set.</p>');\n    } else {\n      for (let i = 0; i < numTimeslots; i++) {\n        let array = timeslots[i].split(' ');\n        array.shift();\n        let a = document.createElement('a');\n        a.className = 'collection-item';\n        let time = timeslots[i].split(' ');\n        a.appendChild(document.createTextNode(time[1] + ' - ' + time[2]));\n        $myTimeslots.append(a);\n      }\n    }\n\n    $('.timeslots').removeClass('hide');\n    $('.timeslots').on('click', (event) => _this.showTimeslotDetails());\n  }\n\n  showTimeslotDetails() {\n    let _this = this;\n    let timeslot = event.target.innerText;\n\n    $('.timeslot').html(timeslot);\n    let time = timeslot.split(' - ');\n    let policy = _this.policyEngine.getTimeslotById('time ' + time[0] + ' ' + time[1]);\n    let status = policy.authorise ? 'allowed' : 'blocked';\n    $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n\n    $('.timeslots-main').addClass('hide');\n    $('.timeslot-details').removeClass('hide');\n    $('.timeslot-creation').addClass('hide');\n  }\n\n  showNewTimeslotPanel() {\n    $('.timeslot-new-panel').removeClass('hide');\n    $('#startTime').val('');\n    $('#endTime').val('');\n  }\n\n  addTimeslot(authorise) {\n    let _this = this;\n    let start = $('#startTime').val();\n    let end = $('#endTime').val();\n    _this.addPolicy('time ' + start + ' ' + end, authorise);\n    Materialize.toast('Timeslot ' + start + ' to ' + end + ' succesfuly created!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyTimeslots();\n  }\n\n  changeTimeslot(authorise) {\n    let _this = this;\n    let timeslot = $('.timeslot').text();\n    let time = timeslot.split(' - ');\n    _this.policyEngine.changePolicy('time ' + time[0] + ' ' + time[1], authorise);\n    let status = authorise ? 'allowed' : 'blocked';\n    Materialize.toast('Timeslot reachability succesfuly changed to ' + status + '!', 2000);\n    $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n  }\n\n  deleteTimeslot() {\n    let _this = this;\n    let timeslot = $('.timeslot').text();\n    let time = timeslot.split(' - ');\n    _this.policyEngine.removePolicies('time ' + time[0] + ' ' + time[1], 'user');\n    Materialize.toast('Timeslot ' + time[0] + ' to ' + time[1] + ' succesfuly deleted!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyTimeslots();\n  }\n}\n\nexport default PoliciesGUI;\n"],"sourceRoot":"/source/"}
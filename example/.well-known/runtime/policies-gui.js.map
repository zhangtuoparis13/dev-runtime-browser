{"version":3,"sources":["node_modules/browser-pack/_prelude.js","src/admin/PoliciesGUI.js"],"names":[],"mappings":"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","file":"policies-gui.js","sourceRoot":"/source/","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","// jshint browser:true, jquery: true\n\nclass PoliciesGUI {\n\n  constructor(policyEngine) {\n    if (!policyEngine) throw Error('Policy Engine not set!');\n    let _this = this;\n\n    _this.policyEngine = policyEngine;\n\n    $('.policies-btn').on('click', function () {\n      _this.showPoliciesGUI();\n    });\n  }\n\n  showPoliciesGUI() {\n    let _this = this;\n\n    $('.policies-gui').removeClass('hide');\n    $('.back').on('click', (event) => _this.goHome());\n\n    $('.group-new').on('click', (event) => _this.showNewGroupPanel());\n    $('.group-add').on('click', (event) => _this.addGroup());\n    $('.group-new-close').on('click', (event) => _this.goToPoliciesHome());\n    $('.group-user-new').on('click', (event) => _this.showNewUserPanel());\n    $('.group-user-add').on('click', (event) => _this.addUser());\n    $('.group-allow').on('click', (event) => _this.changeGroupReachability(true));\n    $('.group-block').on('click', (event) => _this.changeGroupReachability(false));\n    $('.group-delete').on('click', (event) => _this.deleteGroup());\n    $('.group-cancel').on('click', (event) => _this.goToPoliciesHome());\n\n    _this.showMyGroups();\n\n    $('.timeslot-creation').on('click', (event) => _this.showNewTimeslotPanel());\n    $('.timeslot-new-allow').on('click', (event) => _this.addTimeslot(true));\n    $('.timeslot-new-block').on('click', (event) => _this.addTimeslot(false));\n    $('.timeslot-new-cancel').on('click', (event) => _this.goToPoliciesHome());\n    $('.timeslot-change-allow').on('click', (event) => _this.changeTimeslot(true));\n    $('.timeslot-change-block').on('click', (event) => _this.changeTimeslot(false));\n    $('.timeslot-delete').on('click', (event) => _this.deleteTimeslot());\n    $('.timeslot-cancel').on('click', (event) => _this.goToPoliciesHome());\n\n    _this.showMyTimeslots();\n  }\n\n  goHome() {\n    $('.policies-gui').addClass('hide');\n    $('.identities-gui').addClass('hide');\n  }\n\n  goToPoliciesHome() {\n    $('.group-main').removeClass('hide');\n    $('.group-details').addClass('hide');\n    $('.group-new').removeClass('hide');\n    $('.group-new-panel').addClass('hide');\n\n    $('.timeslots-main').removeClass('hide');\n    $('.timeslot-details').addClass('hide');\n    $('.timeslot-creation').removeClass('hide');\n    $('.timeslot-new-panel').addClass('hide');\n  }\n\n  showMyGroups() {\n    let _this = this;\n    let groupsNames = _this.policyEngine.getGroupsNames();\n    let numGroups = groupsNames.length;\n\n    let $myGroups = $('.groups-names');\n    $myGroups.html('');\n    if (numGroups === 0) {\n      $myGroups.append('<p>There are no groups to display.</p>');\n    } else {\n      for (let i = 0; i < numGroups; i++) {\n        let a = document.createElement('a');\n        a.className = 'collection-item';\n        a.appendChild(document.createTextNode(groupsNames[i]));\n        $myGroups.append(a);\n      }\n    }\n\n    $('.groups-names').removeClass('hide');\n    $('.groups-names').on('click', (event) => _this.showGroupDetails());\n  }\n\n  showGroupDetails(groupMembers) {\n    let _this = this;\n\n    let groupName;\n    if (groupMembers === undefined) {\n      groupName = event.target.innerText;\n      $('.group-name').html(groupName);\n      groupMembers = _this.policyEngine.getGroup(groupName);\n    } else {\n      groupName = $('.group-name').text();\n    }\n\n    let numMembers = groupMembers.length;\n\n    let $members = $('.group-members');\n    if (numMembers === 0) {\n      $members.html('<p>This group has no members.</p>');\n    } else {\n      $members.html('');\n      let table = document.createElement('table');\n      table.className = 'centered';\n\n      let tbody = document.createElement('tbody');\n      for (let i = 0; i < numMembers; i++) {\n        let tr = document.createElement('tr');\n        let td = document.createElement('td');\n        td.textContent = groupMembers[i];\n        tr.appendChild(td);\n        td = document.createElement('td');\n        let btn = document.createElement('button');\n        btn.textContent = 'Remove';\n        btn.className = 'remove-id waves-effect waves-light btn';\n        td.appendChild(btn);\n        tr.appendChild(td);\n        tbody.appendChild(tr);\n      }\n\n      table.appendChild(tbody);\n      $members.append(table);\n\n      $('.remove-id').on('click', (event) => _this.deleteUser(groupName));\n    }\n\n    let isReachable = _this.policyEngine.getGroupReachability(groupName);\n    let status = 'not set';\n    if (isReachable !== undefined) {\n      status = isReachable ? 'allowed' : 'blocked';\n    }\n\n    $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    $('.group-main').addClass('hide');\n    $('.group-details').removeClass('hide');\n    $('.group-new').addClass('hide');\n  }\n\n  createTableRow(member) {\n    let tr = document.createElement('tr');\n\n    let td = document.createElement('td');\n    td.textContent = member;\n    td.className = 'clickable-cell';\n    td.style = 'cursor: pointer';\n    tr.appendChild(td);\n    td = document.createElement('td');\n    let btn = document.createElement('button');\n    btn.textContent = 'Remove';\n    btn.className = 'remove-id waves-effect waves-light btn';\n    td.appendChild(btn);\n    tr.appendChild(td);\n\n    return tr;\n  }\n\n  deleteUser(groupName) {\n    let _this = this;\n    let email = event.target.parentNode.parentNode.children[0].innerText;\n    _this.policyEngine.removeFromGroup(email, groupName);\n    Materialize.toast('User \\'' + email + '\\' succesfuly removed from \\'' + groupName + '\\' group!', 2000);\n    _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n  }\n\n  showNewGroupPanel() {\n    $('.group-new-panel').removeClass('hide');\n    $('.group-details').addClass('hide');\n    $('#newGroupName').val('');\n  }\n\n  addGroup() {\n    let _this = this;\n    $('.group-new-panel').addClass('hide');\n    let newGroupName = $('#newGroupName').val();\n    _this.policyEngine.createGroup(newGroupName);\n    Materialize.toast('Group \\'' + newGroupName + '\\' succesfuly created!', 2000);\n    _this.showMyGroups();\n  }\n\n  showNewUserPanel() {\n    let _this = this;\n    $('#newUserEmail').val('');\n    $('.group-user-new-panel').removeClass('hide');\n  }\n\n  addUser() {\n    let _this = this;\n    let newUserEmail = $('#newUserEmail').val();\n    let groupName = $('.group-name').text();\n    _this.policyEngine.addToGroup(newUserEmail, groupName);\n    _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n    Materialize.toast('User \\'' + newUserEmail + '\\' successfully added to \\'' + groupName + '\\' group!', 2000);\n    $('.group-user-new-panel').addClass('hide');\n  }\n\n  addPolicy(type, params, authorise) {\n    let _this = this;\n    let policy = {};\n    if (typeof params === 'string') {\n      policy = {\n        scope: 'user',\n        condition: [type, params].join(' '), //group groupname\n        authorise: authorise,\n        actions: []\n      };\n    } else {\n      policy = {\n        scope: 'user',\n        condition: [type, params.join(' ')].join(' '), //time 1:00 2:00\n        authorise: authorise,\n        actions: []\n      };\n    }\n\n    _this.policyEngine.addPolicies([policy]);\n  }\n\n  changeGroupReachability(authorise) {\n    let _this = this;\n    let groupName = $('groupName').text();\n    _this.policyEngine.changePolicy('group ' + groupName, authorise);\n    let status = authorise ? 'allowed' : 'blocked';\n    Materialize.toast('Reachability of \\'' + groupName + '\\' group succesfuly changed to ' + status + '!', 2000);\n    $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n  }\n\n  deleteGroup() {\n    let _this = this;\n    let groupName = $('.group-name').text();\n    _this.policyEngine.removeGroup(groupName);\n    Materialize.toast('Group \\'' + groupName + '\\' succesfuly deleted!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyGroups();\n  }\n\n  /*******************************************************/\n\n  showMyTimeslots() {\n    let _this = this;\n    let timeslots = _this.policyEngine.getTimeslots();\n    let numTimeslots = timeslots.length;\n    let $myTimeslots = $('.timeslots');\n    $myTimeslots.html('');\n    if (numTimeslots === 0) {\n      $myTimeslots.append('<p>There are no time restrictions set.</p>');\n    } else {\n      for (let i = 0; i < numTimeslots; i++) {\n        let array = timeslots[i].split(' ');\n        array.shift();\n        let a = document.createElement('a');\n        a.className = 'collection-item';\n        a.appendChild(document.createTextNode(timeslots[i]));\n        $myTimeslots.append(a);\n      }\n    }\n\n    $('.timeslots').removeClass('hide');\n    $('.timeslots').on('click', (event) => _this.showTimeslotDetails());\n  }\n\n  showTimeslotDetails() {\n    let _this = this;\n    let id = event.target.innerText;\n    $('.timeslot').html(id);\n    let timeslot = _this.policyEngine.getTimeslotById(id);\n    let status = timeslot.authorise ? 'allowed' : 'blocked';\n    $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n\n    $('.timeslots-main').addClass('hide');\n    $('.timeslot-details').removeClass('hide');\n    $('.timeslot-creation').addClass('hide');\n  }\n\n  showNewTimeslotPanel() {\n    $('.timeslot-new-panel').removeClass('hide');\n    $('#startTime').val('');\n    $('#endTime').val('');\n  }\n\n  addTimeslot(authorise) {\n    let _this = this;\n    let start = $('#startTime').val();\n    let end = $('#endTime').val();\n    _this.addPolicy('time', [start, end], authorise);\n    Materialize.toast('Timeslot ' + start + ' to ' + end + ' succesfuly created!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyTimeslots();\n  }\n\n  changeTimeslot(authorise) {\n    let _this = this;\n    let timeslot = $('.timeslot').text();\n    _this.policyEngine.changePolicy(timeslot, authorise);\n    let status = authorise ? 'allowed' : 'blocked';\n    Materialize.toast('Timeslot reachability succesfuly changed to ' + status + '!', 2000);\n    $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n  }\n\n  deleteTimeslot() {\n    let _this = this;\n    let timeslot = $('.timeslot').text();\n    _this.policyEngine.removePolicies(timeslot, 'user');\n    let time = timeslot.split(' ');\n    Materialize.toast('Timeslot ' + time[1] + ' to ' + time[2] + ' succesfuly deleted!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyTimeslots();\n  }\n}\n\nexport default PoliciesGUI;\n"]}
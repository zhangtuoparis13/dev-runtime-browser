{"version":3,"sources":["node_modules/browser-pack/_prelude.js","policies-gui.js","src/admin/PoliciesGUI.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","policiesGui","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"_classCallCheck","instance","Constructor","TypeError","Object","defineProperty","value","_createClass","defineProperties","target","props","descriptor","enumerable","configurable","writable","key","protoProps","staticProps","prototype","PoliciesGUI","policyEngine","_this","$","on","showPoliciesGUI","removeClass","event","goHome","showNewGroupPanel","addGroup","goToPoliciesHome","showNewUserPanel","addUser","changeGroupReachability","deleteGroup","showMyGroups","showNewTimeslotPanel","addTimeslot","changeTimeslot","deleteTimeslot","showMyTimeslots","addClass","groupsNames","getGroupsNames","numGroups","$myGroups","html","append","document","createElement","className","appendChild","createTextNode","showGroupDetails","groupMembers","groupName","undefined","innerText","getGroup","text","numMembers","$members","table","tbody","tr","td","textContent","btn","deleteUser","isReachable","getGroupReachability","status","member","style","email","parentNode","children","removeFromGroup","Materialize","toast","val","newGroupName","createGroup","newUserEmail","addToGroup","type","params","authorise","policy","scope","condition","join","actions","addPolicies","changePolicy","removeGroup","timeslots","getTimeslots","numTimeslots","$myTimeslots","array","split","shift","showTimeslotDetails","id","timeslot","getTimeslotById","start","end","addPolicy","removePolicies","time"],"mappings":"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","file":"policies-gui.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.policiesGui = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\n// jshint browser:true, jquery: true\n\nvar PoliciesGUI = function () {\n  function PoliciesGUI(policyEngine) {\n    _classCallCheck(this, PoliciesGUI);\n\n    if (!policyEngine) throw Error('Policy Engine not set!');\n    var _this = this;\n\n    _this.policyEngine = policyEngine;\n\n    $('.policies-btn').on('click', function () {\n      _this.showPoliciesGUI();\n    });\n  }\n\n  _createClass(PoliciesGUI, [{\n    key: 'showPoliciesGUI',\n    value: function showPoliciesGUI() {\n      var _this = this;\n\n      $('.policies-gui').removeClass('hide');\n      $('.back').on('click', function (event) {\n        return _this.goHome();\n      });\n\n      $('.group-new').on('click', function (event) {\n        return _this.showNewGroupPanel();\n      });\n      $('.group-add').on('click', function (event) {\n        return _this.addGroup();\n      });\n      $('.group-new-close').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n      $('.group-user-new').on('click', function (event) {\n        return _this.showNewUserPanel();\n      });\n      $('.group-user-add').on('click', function (event) {\n        return _this.addUser();\n      });\n      $('.group-allow').on('click', function (event) {\n        return _this.changeGroupReachability(true);\n      });\n      $('.group-block').on('click', function (event) {\n        return _this.changeGroupReachability(false);\n      });\n      $('.group-delete').on('click', function (event) {\n        return _this.deleteGroup();\n      });\n      $('.group-cancel').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n\n      _this.showMyGroups();\n\n      $('.timeslot-creation').on('click', function (event) {\n        return _this.showNewTimeslotPanel();\n      });\n      $('.timeslot-new-allow').on('click', function (event) {\n        return _this.addTimeslot(true);\n      });\n      $('.timeslot-new-block').on('click', function (event) {\n        return _this.addTimeslot(false);\n      });\n      $('.timeslot-new-cancel').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n      $('.timeslot-change-allow').on('click', function (event) {\n        return _this.changeTimeslot(true);\n      });\n      $('.timeslot-change-block').on('click', function (event) {\n        return _this.changeTimeslot(false);\n      });\n      $('.timeslot-delete').on('click', function (event) {\n        return _this.deleteTimeslot();\n      });\n      $('.timeslot-cancel').on('click', function (event) {\n        return _this.goToPoliciesHome();\n      });\n\n      _this.showMyTimeslots();\n    }\n  }, {\n    key: 'goHome',\n    value: function goHome() {\n      $('.policies-gui').addClass('hide');\n      $('.identities-gui').addClass('hide');\n    }\n  }, {\n    key: 'goToPoliciesHome',\n    value: function goToPoliciesHome() {\n      $('.group-main').removeClass('hide');\n      $('.group-details').addClass('hide');\n      $('.group-new').removeClass('hide');\n      $('.group-new-panel').addClass('hide');\n\n      $('.timeslots-main').removeClass('hide');\n      $('.timeslot-details').addClass('hide');\n      $('.timeslot-creation').removeClass('hide');\n      $('.timeslot-new-panel').addClass('hide');\n    }\n  }, {\n    key: 'showMyGroups',\n    value: function showMyGroups() {\n      var _this = this;\n      var groupsNames = _this.policyEngine.getGroupsNames();\n      var numGroups = groupsNames.length;\n\n      var $myGroups = $('.groups-names');\n      $myGroups.html('');\n      if (numGroups === 0) {\n        $myGroups.append('<p>There are no groups to display.</p>');\n      } else {\n        for (var i = 0; i < numGroups; i++) {\n          var a = document.createElement('a');\n          a.className = 'collection-item';\n          a.appendChild(document.createTextNode(groupsNames[i]));\n          $myGroups.append(a);\n        }\n      }\n\n      $('.groups-names').removeClass('hide');\n      $('.groups-names').on('click', function (event) {\n        return _this.showGroupDetails();\n      });\n    }\n  }, {\n    key: 'showGroupDetails',\n    value: function showGroupDetails(groupMembers) {\n      var _this = this;\n\n      var groupName = void 0;\n      if (groupMembers === undefined) {\n        groupName = event.target.innerText;\n        $('.group-name').html(groupName);\n        groupMembers = _this.policyEngine.getGroup(groupName);\n      } else {\n        groupName = $('.group-name').text();\n      }\n\n      var numMembers = groupMembers.length;\n\n      var $members = $('.group-members');\n      if (numMembers === 0) {\n        $members.html('<p>This group has no members.</p>');\n      } else {\n        $members.html('');\n        var table = document.createElement('table');\n        table.className = 'centered';\n\n        var tbody = document.createElement('tbody');\n        for (var i = 0; i < numMembers; i++) {\n          var tr = document.createElement('tr');\n          var td = document.createElement('td');\n          td.textContent = groupMembers[i];\n          tr.appendChild(td);\n          td = document.createElement('td');\n          var btn = document.createElement('button');\n          btn.textContent = 'Remove';\n          btn.className = 'remove-id waves-effect waves-light btn';\n          td.appendChild(btn);\n          tr.appendChild(td);\n          tbody.appendChild(tr);\n        }\n\n        table.appendChild(tbody);\n        $members.append(table);\n\n        $('.remove-id').on('click', function (event) {\n          return _this.deleteUser(groupName);\n        });\n      }\n\n      var isReachable = _this.policyEngine.getGroupReachability(groupName);\n      var status = 'not set';\n      if (isReachable !== undefined) {\n        status = isReachable ? 'allowed' : 'blocked';\n      }\n\n      $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n      $('.group-main').addClass('hide');\n      $('.group-details').removeClass('hide');\n      $('.group-new').addClass('hide');\n    }\n  }, {\n    key: 'createTableRow',\n    value: function createTableRow(member) {\n      var tr = document.createElement('tr');\n\n      var td = document.createElement('td');\n      td.textContent = member;\n      td.className = 'clickable-cell';\n      td.style = 'cursor: pointer';\n      tr.appendChild(td);\n      td = document.createElement('td');\n      var btn = document.createElement('button');\n      btn.textContent = 'Remove';\n      btn.className = 'remove-id waves-effect waves-light btn';\n      td.appendChild(btn);\n      tr.appendChild(td);\n\n      return tr;\n    }\n  }, {\n    key: 'deleteUser',\n    value: function deleteUser(groupName) {\n      var _this = this;\n      var email = event.target.parentNode.parentNode.children[0].innerText;\n      _this.policyEngine.removeFromGroup(email, groupName);\n      Materialize.toast('User \\'' + email + '\\' succesfuly removed from \\'' + groupName + '\\' group!', 2000);\n      _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n    }\n  }, {\n    key: 'showNewGroupPanel',\n    value: function showNewGroupPanel() {\n      $('.group-new-panel').removeClass('hide');\n      $('.group-details').addClass('hide');\n      $('#newGroupName').val('');\n    }\n  }, {\n    key: 'addGroup',\n    value: function addGroup() {\n      var _this = this;\n      $('.group-new-panel').addClass('hide');\n      var newGroupName = $('#newGroupName').val();\n      _this.policyEngine.createGroup(newGroupName);\n      Materialize.toast('Group \\'' + newGroupName + '\\' succesfuly created!', 2000);\n      _this.showMyGroups();\n    }\n  }, {\n    key: 'showNewUserPanel',\n    value: function showNewUserPanel() {\n      var _this = this;\n      $('#newUserEmail').val('');\n      $('.group-user-new-panel').removeClass('hide');\n    }\n  }, {\n    key: 'addUser',\n    value: function addUser() {\n      var _this = this;\n      var newUserEmail = $('#newUserEmail').val();\n      var groupName = $('.group-name').text();\n      _this.policyEngine.addToGroup(newUserEmail, groupName);\n      _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n      Materialize.toast('User \\'' + newUserEmail + '\\' successfully added to \\'' + groupName + '\\' group!', 2000);\n      $('.group-user-new-panel').addClass('hide');\n    }\n  }, {\n    key: 'addPolicy',\n    value: function addPolicy(type, params, authorise) {\n      var _this = this;\n      var policy = {};\n      if (typeof params === 'string') {\n        policy = {\n          scope: 'user',\n          condition: [type, params].join(' '), //group groupname\n          authorise: authorise,\n          actions: []\n        };\n      } else {\n        policy = {\n          scope: 'user',\n          condition: [type, params.join(' ')].join(' '), //time 1:00 2:00\n          authorise: authorise,\n          actions: []\n        };\n      }\n\n      _this.policyEngine.addPolicies([policy]);\n    }\n  }, {\n    key: 'changeGroupReachability',\n    value: function changeGroupReachability(authorise) {\n      var _this = this;\n      var groupName = $('groupName').text();\n      _this.policyEngine.changePolicy('group ' + groupName, authorise);\n      var status = authorise ? 'allowed' : 'blocked';\n      Materialize.toast('Reachability of \\'' + groupName + '\\' group succesfuly changed to ' + status + '!', 2000);\n      $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    }\n  }, {\n    key: 'deleteGroup',\n    value: function deleteGroup() {\n      var _this = this;\n      var groupName = $('.group-name').text();\n      _this.policyEngine.removeGroup(groupName);\n      Materialize.toast('Group \\'' + groupName + '\\' succesfuly deleted!', 2000);\n      _this.goToPoliciesHome();\n      _this.showMyGroups();\n    }\n\n    /*******************************************************/\n\n  }, {\n    key: 'showMyTimeslots',\n    value: function showMyTimeslots() {\n      var _this = this;\n      var timeslots = _this.policyEngine.getTimeslots();\n      var numTimeslots = timeslots.length;\n      var $myTimeslots = $('.timeslots');\n      $myTimeslots.html('');\n      if (numTimeslots === 0) {\n        $myTimeslots.append('<p>There are no time restrictions set.</p>');\n      } else {\n        for (var i = 0; i < numTimeslots; i++) {\n          var array = timeslots[i].split(' ');\n          array.shift();\n          var a = document.createElement('a');\n          a.className = 'collection-item';\n          a.appendChild(document.createTextNode(timeslots[i]));\n          $myTimeslots.append(a);\n        }\n      }\n\n      $('.timeslots').removeClass('hide');\n      $('.timeslots').on('click', function (event) {\n        return _this.showTimeslotDetails();\n      });\n    }\n  }, {\n    key: 'showTimeslotDetails',\n    value: function showTimeslotDetails() {\n      var _this = this;\n      var id = event.target.innerText;\n      $('.timeslot').html(id);\n      var timeslot = _this.policyEngine.getTimeslotById(id);\n      var status = timeslot.authorise ? 'allowed' : 'blocked';\n      $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n\n      $('.timeslots-main').addClass('hide');\n      $('.timeslot-details').removeClass('hide');\n      $('.timeslot-creation').addClass('hide');\n    }\n  }, {\n    key: 'showNewTimeslotPanel',\n    value: function showNewTimeslotPanel() {\n      $('.timeslot-new-panel').removeClass('hide');\n      $('#startTime').val('');\n      $('#endTime').val('');\n    }\n  }, {\n    key: 'addTimeslot',\n    value: function addTimeslot(authorise) {\n      var _this = this;\n      var start = $('#startTime').val();\n      var end = $('#endTime').val();\n      _this.addPolicy('time', [start, end], authorise);\n      Materialize.toast('Timeslot ' + start + ' to ' + end + ' succesfuly created!', 2000);\n      _this.goToPoliciesHome();\n      _this.showMyTimeslots();\n    }\n  }, {\n    key: 'changeTimeslot',\n    value: function changeTimeslot(authorise) {\n      var _this = this;\n      var timeslot = $('.timeslot').text();\n      _this.policyEngine.changePolicy(timeslot, authorise);\n      var status = authorise ? 'allowed' : 'blocked';\n      Materialize.toast('Timeslot reachability succesfuly changed to ' + status + '!', 2000);\n      $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    }\n  }, {\n    key: 'deleteTimeslot',\n    value: function deleteTimeslot() {\n      var _this = this;\n      var timeslot = $('.timeslot').text();\n      _this.policyEngine.removePolicies(timeslot, 'user');\n      var time = timeslot.split(' ');\n      Materialize.toast('Timeslot ' + time[1] + ' to ' + time[2] + ' succesfuly deleted!', 2000);\n      _this.goToPoliciesHome();\n      _this.showMyTimeslots();\n    }\n  }]);\n\n  return PoliciesGUI;\n}();\n\nexports.default = PoliciesGUI;\n\n},{}]},{},[1])(1)\n});\n\n","// jshint browser:true, jquery: true\n\nclass PoliciesGUI {\n\n  constructor(policyEngine) {\n    if (!policyEngine) throw Error('Policy Engine not set!');\n    let _this = this;\n\n    _this.policyEngine = policyEngine;\n\n    $('.policies-btn').on('click', function () {\n      _this.showPoliciesGUI();\n    });\n  }\n\n  showPoliciesGUI() {\n    let _this = this;\n\n    $('.policies-gui').removeClass('hide');\n    $('.back').on('click', (event) => _this.goHome());\n\n    $('.group-new').on('click', (event) => _this.showNewGroupPanel());\n    $('.group-add').on('click', (event) => _this.addGroup());\n    $('.group-new-close').on('click', (event) => _this.goToPoliciesHome());\n    $('.group-user-new').on('click', (event) => _this.showNewUserPanel());\n    $('.group-user-add').on('click', (event) => _this.addUser());\n    $('.group-allow').on('click', (event) => _this.changeGroupReachability(true));\n    $('.group-block').on('click', (event) => _this.changeGroupReachability(false));\n    $('.group-delete').on('click', (event) => _this.deleteGroup());\n    $('.group-cancel').on('click', (event) => _this.goToPoliciesHome());\n\n    _this.showMyGroups();\n\n    $('.timeslot-creation').on('click', (event) => _this.showNewTimeslotPanel());\n    $('.timeslot-new-allow').on('click', (event) => _this.addTimeslot(true));\n    $('.timeslot-new-block').on('click', (event) => _this.addTimeslot(false));\n    $('.timeslot-new-cancel').on('click', (event) => _this.goToPoliciesHome());\n    $('.timeslot-change-allow').on('click', (event) => _this.changeTimeslot(true));\n    $('.timeslot-change-block').on('click', (event) => _this.changeTimeslot(false));\n    $('.timeslot-delete').on('click', (event) => _this.deleteTimeslot());\n    $('.timeslot-cancel').on('click', (event) => _this.goToPoliciesHome());\n\n    _this.showMyTimeslots();\n  }\n\n  goHome() {\n    $('.policies-gui').addClass('hide');\n    $('.identities-gui').addClass('hide');\n  }\n\n  goToPoliciesHome() {\n    $('.group-main').removeClass('hide');\n    $('.group-details').addClass('hide');\n    $('.group-new').removeClass('hide');\n    $('.group-new-panel').addClass('hide');\n\n    $('.timeslots-main').removeClass('hide');\n    $('.timeslot-details').addClass('hide');\n    $('.timeslot-creation').removeClass('hide');\n    $('.timeslot-new-panel').addClass('hide');\n  }\n\n  showMyGroups() {\n    let _this = this;\n    let groupsNames = _this.policyEngine.getGroupsNames();\n    let numGroups = groupsNames.length;\n\n    let $myGroups = $('.groups-names');\n    $myGroups.html('');\n    if (numGroups === 0) {\n      $myGroups.append('<p>There are no groups to display.</p>');\n    } else {\n      for (let i = 0; i < numGroups; i++) {\n        let a = document.createElement('a');\n        a.className = 'collection-item';\n        a.appendChild(document.createTextNode(groupsNames[i]));\n        $myGroups.append(a);\n      }\n    }\n\n    $('.groups-names').removeClass('hide');\n    $('.groups-names').on('click', (event) => _this.showGroupDetails());\n  }\n\n  showGroupDetails(groupMembers) {\n    let _this = this;\n\n    let groupName;\n    if (groupMembers === undefined) {\n      groupName = event.target.innerText;\n      $('.group-name').html(groupName);\n      groupMembers = _this.policyEngine.getGroup(groupName);\n    } else {\n      groupName = $('.group-name').text();\n    }\n\n    let numMembers = groupMembers.length;\n\n    let $members = $('.group-members');\n    if (numMembers === 0) {\n      $members.html('<p>This group has no members.</p>');\n    } else {\n      $members.html('');\n      let table = document.createElement('table');\n      table.className = 'centered';\n\n      let tbody = document.createElement('tbody');\n      for (let i = 0; i < numMembers; i++) {\n        let tr = document.createElement('tr');\n        let td = document.createElement('td');\n        td.textContent = groupMembers[i];\n        tr.appendChild(td);\n        td = document.createElement('td');\n        let btn = document.createElement('button');\n        btn.textContent = 'Remove';\n        btn.className = 'remove-id waves-effect waves-light btn';\n        td.appendChild(btn);\n        tr.appendChild(td);\n        tbody.appendChild(tr);\n      }\n\n      table.appendChild(tbody);\n      $members.append(table);\n\n      $('.remove-id').on('click', (event) => _this.deleteUser(groupName));\n    }\n\n    let isReachable = _this.policyEngine.getGroupReachability(groupName);\n    let status = 'not set';\n    if (isReachable !== undefined) {\n      status = isReachable ? 'allowed' : 'blocked';\n    }\n\n    $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n    $('.group-main').addClass('hide');\n    $('.group-details').removeClass('hide');\n    $('.group-new').addClass('hide');\n  }\n\n  createTableRow(member) {\n    let tr = document.createElement('tr');\n\n    let td = document.createElement('td');\n    td.textContent = member;\n    td.className = 'clickable-cell';\n    td.style = 'cursor: pointer';\n    tr.appendChild(td);\n    td = document.createElement('td');\n    let btn = document.createElement('button');\n    btn.textContent = 'Remove';\n    btn.className = 'remove-id waves-effect waves-light btn';\n    td.appendChild(btn);\n    tr.appendChild(td);\n\n    return tr;\n  }\n\n  deleteUser(groupName) {\n    let _this = this;\n    let email = event.target.parentNode.parentNode.children[0].innerText;\n    _this.policyEngine.removeFromGroup(email, groupName);\n    Materialize.toast('User \\'' + email + '\\' succesfuly removed from \\'' + groupName + '\\' group!', 2000);\n    _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n  }\n\n  showNewGroupPanel() {\n    $('.group-new-panel').removeClass('hide');\n    $('.group-details').addClass('hide');\n    $('#newGroupName').val('');\n  }\n\n  addGroup() {\n    let _this = this;\n    $('.group-new-panel').addClass('hide');\n    let newGroupName = $('#newGroupName').val();\n    _this.policyEngine.createGroup(newGroupName);\n    Materialize.toast('Group \\'' + newGroupName + '\\' succesfuly created!', 2000);\n    _this.showMyGroups();\n  }\n\n  showNewUserPanel() {\n    let _this = this;\n    $('#newUserEmail').val('');\n    $('.group-user-new-panel').removeClass('hide');\n  }\n\n  addUser() {\n    let _this = this;\n    let newUserEmail = $('#newUserEmail').val();\n    let groupName = $('.group-name').text();\n    _this.policyEngine.addToGroup(newUserEmail, groupName);\n    _this.showGroupDetails(_this.policyEngine.getGroup(groupName));\n    Materialize.toast('User \\'' + newUserEmail + '\\' successfully added to \\'' + groupName + '\\' group!', 2000);\n    $('.group-user-new-panel').addClass('hide');\n  }\n\n  addPolicy(type, params, authorise) {\n    let _this = this;\n    let policy = {};\n    if (typeof params === 'string') {\n      policy = {\n        scope: 'user',\n        condition: [type, params].join(' '), //group groupname\n        authorise: authorise,\n        actions: []\n      };\n    } else {\n      policy = {\n        scope: 'user',\n        condition: [type, params.join(' ')].join(' '), //time 1:00 2:00\n        authorise: authorise,\n        actions: []\n      };\n    }\n\n    _this.policyEngine.addPolicies([policy]);\n  }\n\n  changeGroupReachability(authorise) {\n    let _this = this;\n    let groupName = $('groupName').text();\n    _this.policyEngine.changePolicy('group ' + groupName, authorise);\n    let status = authorise ? 'allowed' : 'blocked';\n    Materialize.toast('Reachability of \\'' + groupName + '\\' group succesfuly changed to ' + status + '!', 2000);\n    $('.group-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n  }\n\n  deleteGroup() {\n    let _this = this;\n    let groupName = $('.group-name').text();\n    _this.policyEngine.removeGroup(groupName);\n    Materialize.toast('Group \\'' + groupName + '\\' succesfuly deleted!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyGroups();\n  }\n\n  /*******************************************************/\n\n  showMyTimeslots() {\n    let _this = this;\n    let timeslots = _this.policyEngine.getTimeslots();\n    let numTimeslots = timeslots.length;\n    let $myTimeslots = $('.timeslots');\n    $myTimeslots.html('');\n    if (numTimeslots === 0) {\n      $myTimeslots.append('<p>There are no time restrictions set.</p>');\n    } else {\n      for (let i = 0; i < numTimeslots; i++) {\n        let array = timeslots[i].split(' ');\n        array.shift();\n        let a = document.createElement('a');\n        a.className = 'collection-item';\n        a.appendChild(document.createTextNode(timeslots[i]));\n        $myTimeslots.append(a);\n      }\n    }\n\n    $('.timeslots').removeClass('hide');\n    $('.timeslots').on('click', (event) => _this.showTimeslotDetails());\n  }\n\n  showTimeslotDetails() {\n    let _this = this;\n    let id = event.target.innerText;\n    $('.timeslot').html(id);\n    let timeslot = _this.policyEngine.getTimeslotById(id);\n    let status = timeslot.authorise ? 'allowed' : 'blocked';\n    $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n\n    $('.timeslots-main').addClass('hide');\n    $('.timeslot-details').removeClass('hide');\n    $('.timeslot-creation').addClass('hide');\n  }\n\n  showNewTimeslotPanel() {\n    $('.timeslot-new-panel').removeClass('hide');\n    $('#startTime').val('');\n    $('#endTime').val('');\n  }\n\n  addTimeslot(authorise) {\n    let _this = this;\n    let start = $('#startTime').val();\n    let end = $('#endTime').val();\n    _this.addPolicy('time', [start, end], authorise);\n    Materialize.toast('Timeslot ' + start + ' to ' + end + ' succesfuly created!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyTimeslots();\n  }\n\n  changeTimeslot(authorise) {\n    let _this = this;\n    let timeslot = $('.timeslot').text();\n    _this.policyEngine.changePolicy(timeslot, authorise);\n    let status = authorise ? 'allowed' : 'blocked';\n    Materialize.toast('Timeslot reachability succesfuly changed to ' + status + '!', 2000);\n    $('.timeslot-reachability').html('<p><b>Reachability status: </b> ' + status + '</p>');\n  }\n\n  deleteTimeslot() {\n    let _this = this;\n    let timeslot = $('.timeslot').text();\n    _this.policyEngine.removePolicies(timeslot, 'user');\n    let time = timeslot.split(' ');\n    Materialize.toast('Timeslot ' + time[1] + ' to ' + time[2] + ' succesfuly deleted!', 2000);\n    _this.goToPoliciesHome();\n    _this.showMyTimeslots();\n  }\n}\n\nexport default PoliciesGUI;\n"],"sourceRoot":"/source/"}
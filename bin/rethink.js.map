{"version":3,"sources":["node_modules/browser-pack/_prelude.js","rethink.js","node_modules/runtime-core/dist/minibus.js","node_modules/runtime-core/dist/sandbox.js","src/ContextApp.js","src/RuntimeLoader.js","src/RuntimeUAStub.js","src/iframe.js"],"names":["f","exports","module","define","amd","g","window","global","self","this","rethink","e","t","n","r","s","o","u","a","require","i","Error","code","l","call","length",1,"MiniBus","TypeError","Object","defineProperty","value","enumerable","configurable","writable","key","prototype","_msgId","_subscriptions","_responseTimeOut","_responseCallbacks","_registerExternalListener","push","addListener","postMessage","thisListener","targetListener","unbind","remove","_publishOn","forEach","_callback","from","id","setTimeout","type","body","desc","to","_onResponse","_publishOnDefault","_url","indexOf","splice","get",2,"__esModule","default","ReferenceError","create","constructor","setPrototypeOf","__proto__","getPrototypeOf","_genId","_responseCallback","_onPostMessage","startsWith","./Bus",3,"./bus/MiniBus","sandbox","c","SandboxRegistry","SandboxType","Sandbox","./sandbox/Sandbox","./sandbox/SandboxRegistry",4,"d","APP","NORMAL","Promise","ExternalDeployAddress","InternalDeployAddress","url","sourceCode","config","../bus/MiniBus","../sandbox/SandboxRegistry",5,"_bus","_components","_onDeploy","_onRemove","hasOwnProperty","_create","_responseMsg","removeAllListenersOf","_interopRequireDefault","obj","iframe","_miniBus","_minibus2","msg","contentWindow","addEventListener","event","data","_onMessage","_registry","_sandbox","eval","apply","activate","getHyperty","hypertyDescriptor","components","_minibus","runtime-core/dist/minibus","runtime-core/dist/sandbox","_typeof","Symbol","iterator","_RuntimeUAStub","_RuntimeUAStub2","undefined","./RuntimeUAStub","_ContextApp","_ContextApp2","_iframe","buildMsg","hypertyComponent","runtimeHypertyURL","status","instance","name","runtimeProxy","requireHyperty","resolve","reject","loaded","removeEventListener","descriptor","requireProtostub","domain","RethinkBrowser","install","installed","./ContextApp","./iframe",6,"src","document","createElement","setAttribute","querySelector","appendChild"],"mappings":"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","file":"rethink.js","sourcesContent":["(function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})","(function(f){if(typeof exports===\"object\"&&typeof module!==\"undefined\"){module.exports=f()}else if(typeof define===\"function\"&&define.amd){define([],f)}else{var g;if(typeof window!==\"undefined\"){g=window}else if(typeof global!==\"undefined\"){g=global}else if(typeof self!==\"undefined\"){g=self}else{g=this}g.rethink = f()}})(function(){var define,module,exports;return (function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=typeof require==\"function\"&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var f=new Error(\"Cannot find module '\"+o+\"'\");throw f.code=\"MODULE_NOT_FOUND\",f}var l=n[o]={exports:{}};t[o][0].call(l.exports,function(e){var n=t[o][1][e];return s(n?n:e)},l,l.exports,e,t,n,r)}return n[o].exports}var i=typeof require==\"function\"&&require;for(var o=0;o<r.length;o++)s(r[o]);return s})({1:[function(require,module,exports){\n(function (global){\n/**\n* Minimal interface and implementation to send and receive messages. It can be reused in many type of components.\n* Components that need a message system should receive this class as a dependency or extend it.\n* Extensions should implement the following private methods: _onPostMessage and _registerExternalListener.\n*/\n// version: 0.4.0\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.MiniBus=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=\"function\"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var l=new Error(\"Cannot find module '\"+o+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i=\"function\"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e);var t=this;t._msgId=0,t._subscriptions={},t._responseTimeOut=5e3,t._responseCallbacks={},t._registerExternalListener()}return s(e,[{key:\"addListener\",value:function(e,t){var n=this,r=new o(n._subscriptions,e,t),s=n._subscriptions[e];return s||(s=[],n._subscriptions[e]=s),s.push(r),r}},{key:\"addResponseListener\",value:function(e,t,n){this._responseCallbacks[e+t]=n}},{key:\"removeResponseListener\",value:function(e,t){delete this._responseCallbacks[e+t]}},{key:\"removeAllListenersOf\",value:function(e){delete this._subscriptions[e]}},{key:\"bind\",value:function(e,t,n){var r=this,s=this,i=s.addListener(e,function(e){n.postMessage(e)}),o=n.addListener(t,function(e){s.postMessage(e)});return{thisListener:i,targetListener:o,unbind:function(){r.thisListener.remove(),r.targetListener.remove()}}}},{key:\"_publishOnDefault\",value:function(e){var t=this._subscriptions[\"*\"];t&&this._publishOn(t,e)}},{key:\"_publishOn\",value:function(e,t){e.forEach(function(e){e._callback(t)})}},{key:\"_responseCallback\",value:function(e,t){var n=this;t&&!function(){var r=e.from+e.id;n._responseCallbacks[r]=t,setTimeout(function(){var t=n._responseCallbacks[r];if(delete n._responseCallbacks[r],t){var s={id:e.id,type:\"response\",body:{code:408,desc:\"Response timeout!\",value:e}};t(s)}},n._responseTimeOut)}()}},{key:\"_onResponse\",value:function(e){var t=this;if(\"response\"===e.type){var n=e.to+e.id,r=t._responseCallbacks[n];if(e.body.code>=200&&delete t._responseCallbacks[n],r)return r(e),!0}return!1}},{key:\"_onMessage\",value:function(e){var t=this;if(!t._onResponse(e)){var n=t._subscriptions[e.to];n?t._publishOn(n,e):t._publishOnDefault(e)}}},{key:\"_genId\",value:function(e){e.id&&0!==e.id||(this._msgId++,e.id=this._msgId)}},{key:\"postMessage\",value:function(e,t){}},{key:\"_onPostMessage\",value:function(e){}},{key:\"_registerExternalListener\",value:function(){}}]),e}(),o=function(){function e(t,n,s){r(this,e);var i=this;i._subscriptions=t,i._url=n,i._callback=s}return s(e,[{key:\"remove\",value:function(){var e=this,t=e._subscriptions[e._url];if(t){var n=t.indexOf(e);t.splice(n,1),0===t.length&&delete e._subscriptions[e._url]}}},{key:\"url\",get:function(){return this._url}}]),e}();n[\"default\"]=i,t.exports=n[\"default\"]},{}],2:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(\"./Bus\"),l=r(a),f=function(e){function t(){return s(this,t),i(this,Object.getPrototypeOf(t).call(this))}return o(t,e),u(t,[{key:\"postMessage\",value:function(e,t){var n=this;return n._genId(e),n._responseCallback(e,t),n._onPostMessage(e),e.id}},{key:\"_onMessage\",value:function(e){var t=this;if(!t._onResponse(e)){var n=t._subscriptions[e.to];n?(t._publishOn(n,e),e.to.startsWith(\"hyperty\")||t._publishOnDefault(e)):t._publishOnDefault(e)}}}]),t}(l[\"default\"]);n[\"default\"]=f,t.exports=n[\"default\"]},{\"./Bus\":1}],3:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var s=e(\"./bus/MiniBus\"),i=r(s);n[\"default\"]=i[\"default\"],t.exports=n[\"default\"]},{\"./bus/MiniBus\":2}]},{},[3])(3)});\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],2:[function(require,module,exports){\n(function (global){\n/**\n* @author micaelpedrosa@gmail.com\n* Base class to implement external sandbox component\n*/\n\n// version: 0.4.0\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n;n=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,n.sandbox=e()}}(function(){return function e(n,t,o){function r(i,u){if(!t[i]){if(!n[i]){var a=\"function\"==typeof require&&require;if(!u&&a)return a(i,!0);if(s)return s(i,!0);var l=new Error(\"Cannot find module '\"+i+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=t[i]={exports:{}};n[i][0].call(c.exports,function(e){var t=n[i][1][e];return r(t?t:e)},c,c.exports,e,n,t,o)}return t[i].exports}for(var s=\"function\"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,n,t){\"use strict\";function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=function(){function e(){o(this,e);var n=this;n._msgId=0,n._subscriptions={},n._responseTimeOut=5e3,n._responseCallbacks={},n._registerExternalListener()}return r(e,[{key:\"addListener\",value:function(e,n){var t=this,o=new i(t._subscriptions,e,n),r=t._subscriptions[e];return r||(r=[],t._subscriptions[e]=r),r.push(o),o}},{key:\"addResponseListener\",value:function(e,n,t){this._responseCallbacks[e+n]=t}},{key:\"removeResponseListener\",value:function(e,n){delete this._responseCallbacks[e+n]}},{key:\"removeAllListenersOf\",value:function(e){delete this._subscriptions[e]}},{key:\"bind\",value:function(e,n,t){var o=this,r=this,s=r.addListener(e,function(e){t.postMessage(e)}),i=t.addListener(n,function(e){r.postMessage(e)});return{thisListener:s,targetListener:i,unbind:function(){o.thisListener.remove(),o.targetListener.remove()}}}},{key:\"_publishOnDefault\",value:function(e){var n=this._subscriptions[\"*\"];n&&this._publishOn(n,e)}},{key:\"_publishOn\",value:function(e,n){e.forEach(function(e){e._callback(n)})}},{key:\"_responseCallback\",value:function(e,n){var t=this;n&&!function(){var o=e.from+e.id;t._responseCallbacks[o]=n,setTimeout(function(){var n=t._responseCallbacks[o];if(delete t._responseCallbacks[o],n){var r={id:e.id,type:\"response\",body:{code:408,desc:\"Response timeout!\",value:e}};n(r)}},t._responseTimeOut)}()}},{key:\"_onResponse\",value:function(e){var n=this;if(\"response\"===e.type){var t=e.to+e.id,o=n._responseCallbacks[t];if(e.body.code>=200&&delete n._responseCallbacks[t],o)return o(e),!0}return!1}},{key:\"_onMessage\",value:function(e){var n=this;if(!n._onResponse(e)){var t=n._subscriptions[e.to];t?n._publishOn(t,e):n._publishOnDefault(e)}}},{key:\"_genId\",value:function(e){e.id&&0!==e.id||(this._msgId++,e.id=this._msgId)}},{key:\"postMessage\",value:function(e,n){}},{key:\"_onPostMessage\",value:function(e){}},{key:\"_registerExternalListener\",value:function(){}}]),e}(),i=function(){function e(n,t,r){o(this,e);var s=this;s._subscriptions=n,s._url=t,s._callback=r}return r(e,[{key:\"remove\",value:function(){var e=this,n=e._subscriptions[e._url];if(n){var t=n.indexOf(e);n.splice(t,1),0===n.length&&delete e._subscriptions[e._url]}}},{key:\"url\",get:function(){return this._url}}]),e}();t[\"default\"]=s,n.exports=t[\"default\"]},{}],2:[function(e,n,t){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function s(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}function i(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=e(\"./Bus\"),l=o(a),c=function(e){function n(){return r(this,n),s(this,Object.getPrototypeOf(n).call(this))}return i(n,e),u(n,[{key:\"postMessage\",value:function(e,n){var t=this;return t._genId(e),t._responseCallback(e,n),t._onPostMessage(e),e.id}},{key:\"_onMessage\",value:function(e){var n=this;if(!n._onResponse(e)){var t=n._subscriptions[e.to];t?(n._publishOn(t,e),e.to.startsWith(\"hyperty\")||n._publishOnDefault(e)):n._publishOnDefault(e)}}}]),n}(l[\"default\"]);t[\"default\"]=c,n.exports=t[\"default\"]},{\"./Bus\":1}],3:[function(e,n,t){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.SandboxRegistry=t.SandboxType=t.Sandbox=void 0;var r=e(\"./sandbox/Sandbox\"),s=o(r),i=e(\"./sandbox/SandboxRegistry\"),u=o(i);t.Sandbox=s[\"default\"],t.SandboxType=r.SandboxType,t.SandboxRegistry=u[\"default\"]},{\"./sandbox/Sandbox\":4,\"./sandbox/SandboxRegistry\":5}],4:[function(e,n,t){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function s(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}function i(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.SandboxType=void 0;var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=e(\"../sandbox/SandboxRegistry\"),l=o(a),c=e(\"../bus/MiniBus\"),f=o(c),d=(t.SandboxType={APP:\"app\",NORMAL:\"normal\"},function(e){function n(){r(this,n);var e=s(this,Object.getPrototypeOf(n).call(this));return e}return i(n,e),u(n,[{key:\"deployComponent\",value:function(e,n,t){var o=this;return new Promise(function(r,s){var i={type:\"create\",from:l[\"default\"].ExternalDeployAddress,to:l[\"default\"].InternalDeployAddress,body:{url:n,sourceCode:e,config:t}};o.postMessage(i,function(e){200===e.body.code?r(\"deployed\"):s(e.body.desc)})})}},{key:\"removeComponent\",value:function(e){var n=this;return new Promise(function(t,o){var r={type:\"delete\",from:l[\"default\"].ExternalDeployAddress,to:l[\"default\"].InternalDeployAddress,body:{url:e}};n.postMessage(r,function(e){200===e.body.code?t(\"undeployed\"):o(e.body.desc)})})}}]),n}(f[\"default\"]));t[\"default\"]=d},{\"../bus/MiniBus\":2,\"../sandbox/SandboxRegistry\":5}],5:[function(e,n,t){\"use strict\";function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=function(){function e(n){o(this,e);var t=this;t._bus=n,t._components={},n.addListener(e.InternalDeployAddress,function(e){switch(e.type){case\"create\":t._onDeploy(e);break;case\"delete\":t._onRemove(e)}})}return r(e,[{key:\"_responseMsg\",value:function(n,t,o){var r={id:n.id,type:\"response\",from:e.InternalDeployAddress,to:e.ExternalDeployAddress},s={};return t&&(s.code=t),o&&(s.desc=o),r.body=s,r}},{key:\"_onDeploy\",value:function(e){var n=this,t=e.body.config,o=e.body.url,r=e.body.sourceCode,s=void 0,i=void 0;if(n._components.hasOwnProperty(o))s=500,i=\"Instance \"+o+\" already exist!\";else try{n._components[o]=n._create(o,r,t),s=200}catch(u){s=500,i=u}var a=n._responseMsg(e,s,i);n._bus.postMessage(a)}},{key:\"_onRemove\",value:function(e){var n=this,t=e.body.url,o=void 0,r=void 0;n._components.hasOwnProperty(t)?(delete n._components[t],n._bus.removeAllListenersOf(t),o=200):(o=500,r=\"Instance \"+t+\" doesn't exist!\");var s=n._responseMsg(e,o,r);n._bus.postMessage(s)}},{key:\"_create\",value:function(e,n,t){}},{key:\"components\",get:function(){return this._components}}]),e}();s.ExternalDeployAddress=\"hyperty-runtime://sandbox/external\",s.InternalDeployAddress=\"hyperty-runtime://sandbox/internal\",t[\"default\"]=s,n.exports=t[\"default\"]},{}]},{},[3])(3)});\n}).call(this,typeof global !== \"undefined\" ? global : typeof self !== \"undefined\" ? self : typeof window !== \"undefined\" ? window : {})\n\n},{}],3:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _sandbox = require('runtime-core/dist/sandbox');\n\nvar _minibus = require('runtime-core/dist/minibus');\n\nvar _minibus2 = _interopRequireDefault(_minibus);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n\nfunction create(iframe) {\n    window._miniBus = new _minibus2.default();\n    window._miniBus._onPostMessage = function (msg) {\n        iframe.contentWindow.postMessage(msg, '*');\n    };\n    window.addEventListener('message', function (event) {\n        if (event.data.to.startsWith('runtime:loadedHyperty')) return;\n\n        window._miniBus._onMessage(event.data);\n    }, false);\n\n    window._registry = new _sandbox.SandboxRegistry(window._miniBus);\n    window._registry._create = function (url, sourceCode, config) {\n        eval.apply(window, [sourceCode]);\n        return activate(url, window._miniBus, config);\n    };\n};\n\nfunction getHyperty(hypertyDescriptor) {\n    return window._registry.components[hypertyDescriptor];\n};\n\nexports.default = { create: create, getHyperty: getHyperty };\n\n},{\"runtime-core/dist/minibus\":1,\"runtime-core/dist/sandbox\":2}],4:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _typeof = typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\" ? function (obj) { return typeof obj; } : function (obj) { return obj && typeof Symbol === \"function\" && obj.constructor === Symbol ? \"symbol\" : typeof obj; }; /**\n                                                                                                                                                                                                                                                  * Copyright 2016 PT Inovação e Sistemas SA\n                                                                                                                                                                                                                                                  * Copyright 2016 INESC-ID\n                                                                                                                                                                                                                                                  * Copyright 2016 QUOBIS NETWORKS SL\n                                                                                                                                                                                                                                                  * Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n                                                                                                                                                                                                                                                  * Copyright 2016 ORANGE SA\n                                                                                                                                                                                                                                                  * Copyright 2016 Deutsche Telekom AG\n                                                                                                                                                                                                                                                  * Copyright 2016 Apizee\n                                                                                                                                                                                                                                                  * Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                  * Licensed under the Apache License, Version 2.0 (the \"License\");\n                                                                                                                                                                                                                                                  * you may not use this file except in compliance with the License.\n                                                                                                                                                                                                                                                  * You may obtain a copy of the License at\n                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                  *   http://www.apache.org/licenses/LICENSE-2.0\n                                                                                                                                                                                                                                                  *\n                                                                                                                                                                                                                                                  * Unless required by applicable law or agreed to in writing, software\n                                                                                                                                                                                                                                                  * distributed under the License is distributed on an \"AS IS\" BASIS,\n                                                                                                                                                                                                                                                  * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n                                                                                                                                                                                                                                                  * See the License for the specific language governing permissions and\n                                                                                                                                                                                                                                                  * limitations under the License.\n                                                                                                                                                                                                                                                  **/\n\n\nvar _RuntimeUAStub = require('./RuntimeUAStub');\n\nvar _RuntimeUAStub2 = _interopRequireDefault(_RuntimeUAStub);\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar rethink = void 0;\n\nif ((typeof window === 'undefined' ? 'undefined' : _typeof(window)) != undefined && window != null) {\n    rethink = _RuntimeUAStub2.default;\n} else {\n    rethink = undefined;\n}\n\nexports.default = rethink;\n\n},{\"./RuntimeUAStub\":5}],5:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _ContextApp = require('./ContextApp');\n\nvar _ContextApp2 = _interopRequireDefault(_ContextApp);\n\nvar _iframe = require('./iframe');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\n\n\nvar iframe = undefined;\nvar buildMsg = function buildMsg(hypertyComponent, msg) {\n    return {\n        runtimeHypertyURL: msg.body.runtimeHypertyURL,\n        status: msg.body.status,\n        instance: hypertyComponent.instance,\n        name: hypertyComponent.name\n    };\n};\n\nvar runtimeProxy = {\n    requireHyperty: function requireHyperty(hypertyDescriptor) {\n        return new Promise(function (resolve, reject) {\n            var loaded = function loaded(e) {\n                if (e.data.to === 'runtime:loadedHyperty') {\n                    window.removeEventListener('message', loaded);\n                    resolve(buildMsg(_ContextApp2.default.getHyperty(e.data.body.runtimeHypertyURL), e.data));\n                }\n            };\n            window.addEventListener('message', loaded);\n            iframe.contentWindow.postMessage({ to: 'core:loadHyperty', body: { descriptor: hypertyDescriptor } }, '*');\n        });\n    },\n\n    requireProtostub: function requireProtostub(domain) {\n        iframe.contentWindow.postMessage({ to: 'core:loadStub', body: { \"domain\": domain } }, '*');\n    }\n};\n\nvar RethinkBrowser = {\n    install: function install(domain) {\n        return new Promise(function (resolve, reject) {\n            iframe = (0, _iframe.create)('https://' + domain + '/.well-known/runtime/index.html');\n            var installed = function installed(e) {\n                if (e.data.to === 'runtime:installed') {\n                    window.removeEventListener('message', installed);\n                    resolve(runtimeProxy);\n                }\n            };\n            window.addEventListener('message', installed);\n            _ContextApp2.default.create(iframe);\n        });\n    }\n};\n\nexports.default = RethinkBrowser;\n\n},{\"./ContextApp\":3,\"./iframe\":6}],6:[function(require,module,exports){\n'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.create = create;\n/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nfunction create(src) {\n    var iframe = document.createElement('iframe');\n    iframe.setAttribute('id', 'rethink');\n    iframe.setAttribute('seamless', '');\n    iframe.setAttribute('src', src);\n    iframe.setAttribute('width', '100%');\n    iframe.setAttribute('height', '750px');\n    iframe.setAttribute('sandbox', 'allow-forms allow-scripts allow-same-origin allow-popups allow-top-navigation');\n    // iframe.style.display = 'none';\n    document.querySelector('body').appendChild(iframe);\n\n    return iframe;\n};\n\n},{}]},{},[4])(4)\n});\n\n","/**\n* Minimal interface and implementation to send and receive messages. It can be reused in many type of components.\n* Components that need a message system should receive this class as a dependency or extend it.\n* Extensions should implement the following private methods: _onPostMessage and _registerExternalListener.\n*/\n// version: 0.4.0\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var t;t=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,t.MiniBus=e()}}(function(){return function e(t,n,r){function s(o,u){if(!n[o]){if(!t[o]){var a=\"function\"==typeof require&&require;if(!u&&a)return a(o,!0);if(i)return i(o,!0);var l=new Error(\"Cannot find module '\"+o+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var f=n[o]={exports:{}};t[o][0].call(f.exports,function(e){var n=t[o][1][e];return s(n?n:e)},f,f.exports,e,t,n,r)}return n[o].exports}for(var i=\"function\"==typeof require&&require,o=0;o<r.length;o++)s(r[o]);return s}({1:[function(e,t,n){\"use strict\";function r(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(n,\"__esModule\",{value:!0});var s=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=function(){function e(){r(this,e);var t=this;t._msgId=0,t._subscriptions={},t._responseTimeOut=5e3,t._responseCallbacks={},t._registerExternalListener()}return s(e,[{key:\"addListener\",value:function(e,t){var n=this,r=new o(n._subscriptions,e,t),s=n._subscriptions[e];return s||(s=[],n._subscriptions[e]=s),s.push(r),r}},{key:\"addResponseListener\",value:function(e,t,n){this._responseCallbacks[e+t]=n}},{key:\"removeResponseListener\",value:function(e,t){delete this._responseCallbacks[e+t]}},{key:\"removeAllListenersOf\",value:function(e){delete this._subscriptions[e]}},{key:\"bind\",value:function(e,t,n){var r=this,s=this,i=s.addListener(e,function(e){n.postMessage(e)}),o=n.addListener(t,function(e){s.postMessage(e)});return{thisListener:i,targetListener:o,unbind:function(){r.thisListener.remove(),r.targetListener.remove()}}}},{key:\"_publishOnDefault\",value:function(e){var t=this._subscriptions[\"*\"];t&&this._publishOn(t,e)}},{key:\"_publishOn\",value:function(e,t){e.forEach(function(e){e._callback(t)})}},{key:\"_responseCallback\",value:function(e,t){var n=this;t&&!function(){var r=e.from+e.id;n._responseCallbacks[r]=t,setTimeout(function(){var t=n._responseCallbacks[r];if(delete n._responseCallbacks[r],t){var s={id:e.id,type:\"response\",body:{code:408,desc:\"Response timeout!\",value:e}};t(s)}},n._responseTimeOut)}()}},{key:\"_onResponse\",value:function(e){var t=this;if(\"response\"===e.type){var n=e.to+e.id,r=t._responseCallbacks[n];if(e.body.code>=200&&delete t._responseCallbacks[n],r)return r(e),!0}return!1}},{key:\"_onMessage\",value:function(e){var t=this;if(!t._onResponse(e)){var n=t._subscriptions[e.to];n?t._publishOn(n,e):t._publishOnDefault(e)}}},{key:\"_genId\",value:function(e){e.id&&0!==e.id||(this._msgId++,e.id=this._msgId)}},{key:\"postMessage\",value:function(e,t){}},{key:\"_onPostMessage\",value:function(e){}},{key:\"_registerExternalListener\",value:function(){}}]),e}(),o=function(){function e(t,n,s){r(this,e);var i=this;i._subscriptions=t,i._url=n,i._callback=s}return s(e,[{key:\"remove\",value:function(){var e=this,t=e._subscriptions[e._url];if(t){var n=t.indexOf(e);t.splice(n,1),0===t.length&&delete e._subscriptions[e._url]}}},{key:\"url\",get:function(){return this._url}}]),e}();n[\"default\"]=i,t.exports=n[\"default\"]},{}],2:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}function s(e,t){if(!(e instanceof t))throw new TypeError(\"Cannot call a class as a function\")}function i(e,t){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!t||\"object\"!=typeof t&&\"function\"!=typeof t?e:t}function o(e,t){if(\"function\"!=typeof t&&null!==t)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(n,\"__esModule\",{value:!0});var u=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,\"value\"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=e(\"./Bus\"),l=r(a),f=function(e){function t(){return s(this,t),i(this,Object.getPrototypeOf(t).call(this))}return o(t,e),u(t,[{key:\"postMessage\",value:function(e,t){var n=this;return n._genId(e),n._responseCallback(e,t),n._onPostMessage(e),e.id}},{key:\"_onMessage\",value:function(e){var t=this;if(!t._onResponse(e)){var n=t._subscriptions[e.to];n?(t._publishOn(n,e),e.to.startsWith(\"hyperty\")||t._publishOnDefault(e)):t._publishOnDefault(e)}}}]),t}(l[\"default\"]);n[\"default\"]=f,t.exports=n[\"default\"]},{\"./Bus\":1}],3:[function(e,t,n){\"use strict\";function r(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(n,\"__esModule\",{value:!0});var s=e(\"./bus/MiniBus\"),i=r(s);n[\"default\"]=i[\"default\"],t.exports=n[\"default\"]},{\"./bus/MiniBus\":2}]},{},[3])(3)});","/**\n* @author micaelpedrosa@gmail.com\n* Base class to implement external sandbox component\n*/\n\n// version: 0.4.0\n\n!function(e){if(\"object\"==typeof exports&&\"undefined\"!=typeof module)module.exports=e();else if(\"function\"==typeof define&&define.amd)define([],e);else{var n;n=\"undefined\"!=typeof window?window:\"undefined\"!=typeof global?global:\"undefined\"!=typeof self?self:this,n.sandbox=e()}}(function(){return function e(n,t,o){function r(i,u){if(!t[i]){if(!n[i]){var a=\"function\"==typeof require&&require;if(!u&&a)return a(i,!0);if(s)return s(i,!0);var l=new Error(\"Cannot find module '\"+i+\"'\");throw l.code=\"MODULE_NOT_FOUND\",l}var c=t[i]={exports:{}};n[i][0].call(c.exports,function(e){var t=n[i][1][e];return r(t?t:e)},c,c.exports,e,n,t,o)}return t[i].exports}for(var s=\"function\"==typeof require&&require,i=0;i<o.length;i++)r(o[i]);return r}({1:[function(e,n,t){\"use strict\";function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=function(){function e(){o(this,e);var n=this;n._msgId=0,n._subscriptions={},n._responseTimeOut=5e3,n._responseCallbacks={},n._registerExternalListener()}return r(e,[{key:\"addListener\",value:function(e,n){var t=this,o=new i(t._subscriptions,e,n),r=t._subscriptions[e];return r||(r=[],t._subscriptions[e]=r),r.push(o),o}},{key:\"addResponseListener\",value:function(e,n,t){this._responseCallbacks[e+n]=t}},{key:\"removeResponseListener\",value:function(e,n){delete this._responseCallbacks[e+n]}},{key:\"removeAllListenersOf\",value:function(e){delete this._subscriptions[e]}},{key:\"bind\",value:function(e,n,t){var o=this,r=this,s=r.addListener(e,function(e){t.postMessage(e)}),i=t.addListener(n,function(e){r.postMessage(e)});return{thisListener:s,targetListener:i,unbind:function(){o.thisListener.remove(),o.targetListener.remove()}}}},{key:\"_publishOnDefault\",value:function(e){var n=this._subscriptions[\"*\"];n&&this._publishOn(n,e)}},{key:\"_publishOn\",value:function(e,n){e.forEach(function(e){e._callback(n)})}},{key:\"_responseCallback\",value:function(e,n){var t=this;n&&!function(){var o=e.from+e.id;t._responseCallbacks[o]=n,setTimeout(function(){var n=t._responseCallbacks[o];if(delete t._responseCallbacks[o],n){var r={id:e.id,type:\"response\",body:{code:408,desc:\"Response timeout!\",value:e}};n(r)}},t._responseTimeOut)}()}},{key:\"_onResponse\",value:function(e){var n=this;if(\"response\"===e.type){var t=e.to+e.id,o=n._responseCallbacks[t];if(e.body.code>=200&&delete n._responseCallbacks[t],o)return o(e),!0}return!1}},{key:\"_onMessage\",value:function(e){var n=this;if(!n._onResponse(e)){var t=n._subscriptions[e.to];t?n._publishOn(t,e):n._publishOnDefault(e)}}},{key:\"_genId\",value:function(e){e.id&&0!==e.id||(this._msgId++,e.id=this._msgId)}},{key:\"postMessage\",value:function(e,n){}},{key:\"_onPostMessage\",value:function(e){}},{key:\"_registerExternalListener\",value:function(){}}]),e}(),i=function(){function e(n,t,r){o(this,e);var s=this;s._subscriptions=n,s._url=t,s._callback=r}return r(e,[{key:\"remove\",value:function(){var e=this,n=e._subscriptions[e._url];if(n){var t=n.indexOf(e);n.splice(t,1),0===n.length&&delete e._subscriptions[e._url]}}},{key:\"url\",get:function(){return this._url}}]),e}();t[\"default\"]=s,n.exports=t[\"default\"]},{}],2:[function(e,n,t){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function s(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}function i(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,\"__esModule\",{value:!0});var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=e(\"./Bus\"),l=o(a),c=function(e){function n(){return r(this,n),s(this,Object.getPrototypeOf(n).call(this))}return i(n,e),u(n,[{key:\"postMessage\",value:function(e,n){var t=this;return t._genId(e),t._responseCallback(e,n),t._onPostMessage(e),e.id}},{key:\"_onMessage\",value:function(e){var n=this;if(!n._onResponse(e)){var t=n._subscriptions[e.to];t?(n._publishOn(t,e),e.to.startsWith(\"hyperty\")||n._publishOnDefault(e)):n._publishOnDefault(e)}}}]),n}(l[\"default\"]);t[\"default\"]=c,n.exports=t[\"default\"]},{\"./Bus\":1}],3:[function(e,n,t){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}Object.defineProperty(t,\"__esModule\",{value:!0}),t.SandboxRegistry=t.SandboxType=t.Sandbox=void 0;var r=e(\"./sandbox/Sandbox\"),s=o(r),i=e(\"./sandbox/SandboxRegistry\"),u=o(i);t.Sandbox=s[\"default\"],t.SandboxType=r.SandboxType,t.SandboxRegistry=u[\"default\"]},{\"./sandbox/Sandbox\":4,\"./sandbox/SandboxRegistry\":5}],4:[function(e,n,t){\"use strict\";function o(e){return e&&e.__esModule?e:{\"default\":e}}function r(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}function s(e,n){if(!e)throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");return!n||\"object\"!=typeof n&&\"function\"!=typeof n?e:n}function i(e,n){if(\"function\"!=typeof n&&null!==n)throw new TypeError(\"Super expression must either be null or a function, not \"+typeof n);e.prototype=Object.create(n&&n.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(e,n):e.__proto__=n)}Object.defineProperty(t,\"__esModule\",{value:!0}),t.SandboxType=void 0;var u=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),a=e(\"../sandbox/SandboxRegistry\"),l=o(a),c=e(\"../bus/MiniBus\"),f=o(c),d=(t.SandboxType={APP:\"app\",NORMAL:\"normal\"},function(e){function n(){r(this,n);var e=s(this,Object.getPrototypeOf(n).call(this));return e}return i(n,e),u(n,[{key:\"deployComponent\",value:function(e,n,t){var o=this;return new Promise(function(r,s){var i={type:\"create\",from:l[\"default\"].ExternalDeployAddress,to:l[\"default\"].InternalDeployAddress,body:{url:n,sourceCode:e,config:t}};o.postMessage(i,function(e){200===e.body.code?r(\"deployed\"):s(e.body.desc)})})}},{key:\"removeComponent\",value:function(e){var n=this;return new Promise(function(t,o){var r={type:\"delete\",from:l[\"default\"].ExternalDeployAddress,to:l[\"default\"].InternalDeployAddress,body:{url:e}};n.postMessage(r,function(e){200===e.body.code?t(\"undeployed\"):o(e.body.desc)})})}}]),n}(f[\"default\"]));t[\"default\"]=d},{\"../bus/MiniBus\":2,\"../sandbox/SandboxRegistry\":5}],5:[function(e,n,t){\"use strict\";function o(e,n){if(!(e instanceof n))throw new TypeError(\"Cannot call a class as a function\")}Object.defineProperty(t,\"__esModule\",{value:!0});var r=function(){function e(e,n){for(var t=0;t<n.length;t++){var o=n[t];o.enumerable=o.enumerable||!1,o.configurable=!0,\"value\"in o&&(o.writable=!0),Object.defineProperty(e,o.key,o)}}return function(n,t,o){return t&&e(n.prototype,t),o&&e(n,o),n}}(),s=function(){function e(n){o(this,e);var t=this;t._bus=n,t._components={},n.addListener(e.InternalDeployAddress,function(e){switch(e.type){case\"create\":t._onDeploy(e);break;case\"delete\":t._onRemove(e)}})}return r(e,[{key:\"_responseMsg\",value:function(n,t,o){var r={id:n.id,type:\"response\",from:e.InternalDeployAddress,to:e.ExternalDeployAddress},s={};return t&&(s.code=t),o&&(s.desc=o),r.body=s,r}},{key:\"_onDeploy\",value:function(e){var n=this,t=e.body.config,o=e.body.url,r=e.body.sourceCode,s=void 0,i=void 0;if(n._components.hasOwnProperty(o))s=500,i=\"Instance \"+o+\" already exist!\";else try{n._components[o]=n._create(o,r,t),s=200}catch(u){s=500,i=u}var a=n._responseMsg(e,s,i);n._bus.postMessage(a)}},{key:\"_onRemove\",value:function(e){var n=this,t=e.body.url,o=void 0,r=void 0;n._components.hasOwnProperty(t)?(delete n._components[t],n._bus.removeAllListenersOf(t),o=200):(o=500,r=\"Instance \"+t+\" doesn't exist!\");var s=n._responseMsg(e,o,r);n._bus.postMessage(s)}},{key:\"_create\",value:function(e,n,t){}},{key:\"components\",get:function(){return this._components}}]),e}();s.ExternalDeployAddress=\"hyperty-runtime://sandbox/external\",s.InternalDeployAddress=\"hyperty-runtime://sandbox/internal\",t[\"default\"]=s,n.exports=t[\"default\"]},{}]},{},[3])(3)});","/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport {Sandbox, SandboxRegistry} from 'runtime-core/dist/sandbox';\nimport MiniBus from 'runtime-core/dist/minibus';\n\nfunction create(iframe){\n    window._miniBus = new MiniBus();\n    window._miniBus._onPostMessage = function(msg){\n        iframe.contentWindow.postMessage(msg, '*');\n    };\n    window.addEventListener('message', function(event){\n        if(event.data.to.startsWith('runtime:loadedHyperty'))\n            return;\n\n        window._miniBus._onMessage(event.data);\n    }, false);\n\n    window._registry = new SandboxRegistry(window._miniBus);\n    window._registry._create = function(url, sourceCode, config){\n        eval.apply(window, [sourceCode]);\n        return activate(url, window._miniBus, config);\n    };\n};\n\nfunction getHyperty(hypertyDescriptor){\n    return window._registry.components[hypertyDescriptor]\n};\n\nexport default { create, getHyperty };\n","/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport RethinkBrowser from './RuntimeUAStub'\n\nlet rethink;\n\nif( typeof window != undefined && window != null ){\n    rethink = RethinkBrowser\n}else{\n    rethink = undefined\n}\n\nexport default rethink\n","/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nimport app from './ContextApp';\nimport { create as createIframe } from './iframe';\n\nlet iframe = undefined;\nlet buildMsg = (hypertyComponent, msg) => {\n        return {\n         runtimeHypertyURL: msg.body.runtimeHypertyURL,\n         status: msg.body.status,\n         instance: hypertyComponent.instance,\n         name: hypertyComponent.name\n       }\n};\n\nlet runtimeProxy = {\n    requireHyperty: (hypertyDescriptor)=>{\n        return new Promise((resolve, reject)=>{\n            let loaded = (e)=>{\n                if(e.data.to === 'runtime:loadedHyperty'){\n                    window.removeEventListener('message', loaded);\n                    resolve(buildMsg(app.getHyperty(e.data.body.runtimeHypertyURL), e.data));\n                }\n            };\n            window.addEventListener('message', loaded);                     \n            iframe.contentWindow.postMessage({to:'core:loadHyperty', body:{descriptor: hypertyDescriptor}}, '*');\n        });\n    },\n\n    requireProtostub: (domain)=>{\n        iframe.contentWindow.postMessage({to:'core:loadStub', body:{\"domain\": domain}}, '*')\n    },\n};\n\nlet RethinkBrowser = {\n    install: function(domain){\n        return new Promise((resolve, reject)=>{\n            iframe = createIframe(`https://${domain}/.well-known/runtime/index.html`);\n            let installed = (e)=>{\n                if(e.data.to === 'runtime:installed'){\n                    window.removeEventListener('message', installed);\n                    resolve(runtimeProxy);\n                }\n            };\n            window.addEventListener('message', installed);\n            app.create(iframe);\n        });\n    }\n};\n\nexport default RethinkBrowser\n","/**\n* Copyright 2016 PT Inovação e Sistemas SA\n* Copyright 2016 INESC-ID\n* Copyright 2016 QUOBIS NETWORKS SL\n* Copyright 2016 FRAUNHOFER-GESELLSCHAFT ZUR FOERDERUNG DER ANGEWANDTEN FORSCHUNG E.V\n* Copyright 2016 ORANGE SA\n* Copyright 2016 Deutsche Telekom AG\n* Copyright 2016 Apizee\n* Copyright 2016 TECHNISCHE UNIVERSITAT BERLIN\n*\n* Licensed under the Apache License, Version 2.0 (the \"License\");\n* you may not use this file except in compliance with the License.\n* You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing, software\n* distributed under the License is distributed on an \"AS IS\" BASIS,\n* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n* See the License for the specific language governing permissions and\n* limitations under the License.\n**/\nexport function create(src){\n    var iframe = document.createElement('iframe');\n    iframe.setAttribute('id', 'rethink');\n    iframe.setAttribute('seamless', '');\n    iframe.setAttribute('src', src);\n    iframe.setAttribute('width', '100%');\n    iframe.setAttribute('height', '750px');\n    iframe.setAttribute('sandbox', 'allow-forms allow-scripts allow-same-origin allow-popups allow-top-navigation');\n    // iframe.style.display = 'none';\n    document.querySelector('body').appendChild(iframe);\n\n    return iframe;\n};\n"],"sourceRoot":"/source/"}